{"version":3,"file":"mostify-ui.js","sources":["../../../packages/mostify-ui/config/config.ts","../../../packages/mostify-ui/components/MIcon/MIcon.tsx","../../../packages/mostify-ui/components/MButton/Button.tsx","../../../packages/mostify-ui/components/MButton/hooks/useBtn.tsx","../../../packages/mostify-ui/components/MSpace/MSpace.tsx","../../../packages/mostify-ui/components/MDivider/MDivider.tsx","../../../packages/mostify-ui/components/MAnchor/MAnchor.tsx","../../../packages/mostify-ui/components/MConfigProvider/MConfigProvider.tsx","../../../packages/mostify-ui/components/MBreadcrumb/MBreadcrumb.tsx","../../../packages/mostify-ui/components/MBreadcrumbItem/MBreadcrumbItem.tsx","../../../packages/utils/dom.ts","../../../packages/mostify-ui/components/MDropdown/animateOption.ts","../../../packages/mostify-ui/components/MDropdown/getRect.ts","../../../packages/mostify-ui/components/MDropdown/MDropdown.tsx","../../../packages/utils/utils.ts","../../../packages/mostify-ui/components/MButtonGroup/MButtonGroup.tsx","../../../packages/mostify-ui/components/MMenuItem/MMenuItem.tsx","../../../packages/mostify-ui/components/MTransition/Transition.tsx","../../../packages/mostify-ui/components/MDialog/utils/dialogAnimation.ts","../../../packages/mostify-ui/utils/dom.ts","../../../packages/mostify-ui/components/MDialog/Dialog.tsx","../../../packages/mostify-ui/components/MDialog/hooks/index.ts","../../../packages/mostify-ui/components/MDialog/utils/dialog.ts","../../../packages/mostify-ui/components/MInput/Input.tsx","../../../packages/mostify-ui/components/MInput/hooks/index.ts","../../../packages/mostify-ui/components/MAlert/MAlert.tsx","../../../packages/mostify-ui/components/MCheckbox/Checkbox.tsx","../../../packages/mostify-ui/components/MCheckbox/hooks.ts","../../../packages/mostify-ui/components/index.ts"],"sourcesContent":["// 定义全局静态字段\r\nexport const providerKey = Symbol('muiConfigProvider');","import { defineComponent, computed } from \"vue\";\r\nimport \"./source/iconfont.css\";\r\nexport default defineComponent({\r\n  name: \"MIcon\",\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"16px\"\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: \"currentColor\"\r\n    }\r\n  },\r\n  setup(props) {\r\n    const iconName = computed(() => `mostifyiconfont m-icon-${props.name}`);\r\n    return () => (\r\n      <i\r\n        class={iconName.value}\r\n        style={{\r\n          color: props.color,\r\n          fontSize: props.size,\r\n          lineHeight: \"inherit\"\r\n        }}\r\n      />\r\n    );\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport type { PropType } from \"vue\";\r\nimport type { BtnTypes, BtnSizes, BtnShapes } from \"./types\";\r\nimport { useBtn } from \"./hooks/useBtn\";\r\nimport \"./styles/btn.scss\";\r\nimport MIcon from \"../MIcon\";\r\n\r\nexport default defineComponent({\r\n  name: \"MButton\",\r\n  props: {\r\n    type: {\r\n      type: String as PropType<BtnTypes>,\r\n      default: \"default\"\r\n    },\r\n    size: String as PropType<BtnSizes>,\r\n    shape: String as PropType<BtnShapes>,\r\n    disabled: Boolean,\r\n    loading: Boolean,\r\n    border: Boolean,\r\n    light: Boolean,\r\n    leftIcon: String,\r\n    rightIcon: String\r\n  },\r\n  emits: [\"click\", \"focus\", \"blur\"],\r\n  setup(props, { slots, emit }) {\r\n    const { btnClass, contentShow, setClickXEvent, btnRef, rippleRef } =\r\n      useBtn(props);\r\n\r\n    function onChangeByType(e: Event, type: \"click\" | \"focus\" | \"blur\") {\r\n      e.preventDefault();\r\n      if (props.loading || props.disabled) return;\r\n      emit(type, e);\r\n    }\r\n\r\n    const onmousedown = (e: MouseEvent) => {\r\n      e.preventDefault();\r\n      if (props.loading || props.disabled) return;\r\n      setClickXEvent(e);\r\n    };\r\n    return () => {\r\n      const leftIcon = slots.leftIcon ? (\r\n        slots.leftIcon()\r\n      ) : props.leftIcon ? (\r\n        <MIcon name={props.leftIcon} />\r\n      ) : (\r\n        \"\"\r\n      );\r\n      const rightIcon = slots.rightIcon ? (\r\n        slots.rightIcon()\r\n      ) : props.rightIcon ? (\r\n        <MIcon name={props.rightIcon} />\r\n      ) : (\r\n        \"\"\r\n      );\r\n      return (\r\n        <button\r\n          class={btnClass.value}\r\n          onMousedown={onmousedown}\r\n          ref={btnRef}\r\n          style={{\r\n            \"--border-width\": props.border ? \"1px\" : \"0px\"\r\n          }}\r\n          data-light={props.light ? \"on\" : \"off\"}\r\n          onClick={e => onChangeByType(e, \"click\")}\r\n          onFocus={e => onChangeByType(e, \"focus\")}\r\n          onBlur={e => onChangeByType(e, \"blur\")}>\r\n          {!props.loading && !props.disabled && (\r\n            <div class=\"m-button-ripple-wrapper\" ref={rippleRef} />\r\n          )}\r\n          <span class=\"m-button-main\">\r\n            {props.loading && (\r\n              <span\r\n                class=\"m-button-loading-icon-wrapper\"\r\n                style={{ marginRight: contentShow.value ? \"8px\" : 0 }}>\r\n                <svg\r\n                  viewBox=\"0 0 1024 1024\"\r\n                  width=\"1em\"\r\n                  height=\"1em\"\r\n                  class=\"m-button-icon-loading\">\r\n                  <path\r\n                    d=\"M980.752 313.697c-25.789-60.972-62.702-115.725-109.713-162.736-47.012-47.011-101.764-83.924-162.736-109.713C645.161 14.542 578.106 1 509 1c-2.242 0-4.48 0.015-6.715 0.043-16.567 0.211-29.826 13.812-29.615 30.38 0.209 16.438 13.599 29.618 29.99 29.618l0.39-0.002c1.98-0.026 3.963-0.039 5.95-0.039 61.033 0 120.224 11.947 175.93 35.508 53.82 22.764 102.162 55.359 143.683 96.879s74.115 89.862 96.88 143.683C949.054 392.776 961 451.967 961 513c0 16.568 13.432 30 30 30s30-13.432 30-30c0-69.106-13.541-136.162-40.248-199.303z\"\r\n                    fill=\"currentColor\"></path>\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {contentShow.value && (\r\n              <>\r\n                {leftIcon && <span class=\"m-button-icon-left\">{leftIcon}</span>}\r\n                {slots.default && slots.default()}\r\n                {rightIcon && (\r\n                  <span class=\"m-button-icon-right\">{rightIcon}</span>\r\n                )}\r\n              </>\r\n            )}\r\n          </span>\r\n        </button>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { computed, inject, ref } from \"vue\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\n\r\nexport const useBtn = props => {\r\n  const rippleRef = ref<HTMLElement | null>(null);\r\n  const btnRef = ref<HTMLElement | null>(null);\r\n  const injectData = inject(providerKey, { size: \"\" });\r\n  const btnClass = computed(() => {\r\n    const arr = [\"m-button\"];\r\n    props.type && arr.push(\"m-button-type-\" + props.type);\r\n    const size = props.size || injectData.size || \"small\";\r\n    arr.push(\"m-button-size-\" + size);\r\n    props.shape && arr.push(\"m-button-shape-\" + props.shape);\r\n    props.loading && arr.push(\"is-loading\");\r\n    props.disabled && arr.push(\"is-disabled\");\r\n    return arr;\r\n  });\r\n  const contentShow = computed(\r\n    () => !(props.loading && [\"circle\", \"square\"].includes(props.shape))\r\n  );\r\n\r\n  // User ripple effect\r\n  let rippleCopy = null;\r\n\r\n  const setClickXEvent = async (e: MouseEvent) => {\r\n    if (!rippleRef.value) return;\r\n    if (!rippleCopy) {\r\n      rippleCopy = document.createElement(\"div\");\r\n      rippleCopy.className = \"m-button-ripple\";\r\n    }\r\n    const ripple = rippleCopy.cloneNode() as HTMLElement;\r\n    rippleRef.value.appendChild(ripple);\r\n    const rect = btnRef.value.getBoundingClientRect();\r\n    const size = Math.max(rect.width, rect.height);\r\n    const width = size + \"px\";\r\n    const height = width;\r\n    let top = (e.clientY - rect.top - size / 2).toFixed(0) + \"px\";\r\n    let left = (e.clientX - rect.left - size / 2).toFixed(0) + \"px\";\r\n    top = (rect.height - size) * 0.5 + \"px\";\r\n    if (Math.abs(rect.width - rect.height) < 12) {\r\n      left = (rect.width - size) * 0.5 + \"px\";\r\n    }\r\n\r\n    ripple.setAttribute(\r\n      \"style\",\r\n      `width:${width};height:${height};top:${top};left:${left};`\r\n    );\r\n    ripple.classList.add(\"m-button-ripple-active\");\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n    ripple.remove();\r\n  };\r\n\r\n  return {\r\n    btnClass,\r\n    contentShow,\r\n    setClickXEvent,\r\n    btnRef,\r\n    rippleRef\r\n  };\r\n};\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MSpace\",\r\n  props: {\r\n    size: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    layout: {\r\n      type: String,\r\n      validator: (val: string) => [\"x\", \"y\"].includes(val),\r\n      default: \"x\",\r\n    },\r\n    alignItems: { type: String, default: \"flex-start\" },\r\n  },\r\n  setup(props, { slots }) {\r\n    const layoutClass = computed(() =>\r\n      props.layout === \"y\" ? \"m-space-y\" : \"m-space-x\"\r\n    );\r\n    const defaultItems = computed(() => (slots.default ? slots.default() : []));\r\n\r\n    return () => {\r\n      return (\r\n        <div\r\n          class={[\"m-space\", layoutClass.value]}\r\n          style={{\r\n            \"--size\": props.size || \"\",\r\n            'align-items': props.alignItems || \"\",\r\n          }}\r\n        >\r\n          {defaultItems.value?.map((item, index) => {\r\n            return (\r\n              <div class=\"m-space-item\" key={index}>\r\n                {item}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    };\r\n  },\r\n});\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDivider\",\r\n  props: {\r\n    layout: {\r\n      type: String,\r\n      default: \"x\",\r\n      validator: (v: string) => [\"x\", \"y\"].includes(v),\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"12px\",\r\n    },\r\n  },\r\n\r\n  setup(props) {\r\n    const dividerClass = computed(() =>\r\n      props.layout === \"y\" ? \"m-divider-y\" : \"m-divider-x\"\r\n    );\r\n\r\n    return () => (\r\n      <div\r\n        style={{ \"--color\": props.color, \"--size\": props.size }}\r\n        class={[\"m-divider\", dividerClass.value]}\r\n      ></div>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent, inject } from \"vue\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\n\r\nexport default defineComponent({\r\n  name: \"MAnchor\",\r\n  props: {\r\n    getTarget: {\r\n      type: Function,\r\n      default: () => window,\r\n    },\r\n  },\r\n  setup(_, { slots }) {\r\n    const injectData = inject(providerKey);\r\n\r\n    console.log(injectData, \"injectData\");\r\n\r\n    return () => <div>{slots.default && slots.default()}</div>;\r\n  },\r\n});\r\n","import { defineComponent, provide } from \"vue\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\nexport default defineComponent({\r\n  name: \"MConfigProvider\",\r\n  props: {\r\n    locale: {\r\n      type: String,\r\n      default: \"zh-CN\",\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"small\",\r\n      validator: (v: string) => [\"small\", \"mini\", \"large\"].includes(v),\r\n    },\r\n  },\r\n\r\n  setup(props, { slots }) {\r\n    provide(providerKey, props);\r\n    return () => <>{slots.default && slots.default()}</>;\r\n  },\r\n});\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MBreadcrumb\",\r\n  props: {\r\n    separator: {\r\n      type: String,\r\n      default: \"/\",\r\n    },\r\n    color: String,\r\n    activeColor: String,\r\n  },\r\n  setup(props, { slots }) {\r\n    const length = computed(() => slots?.default?.()?.length || 0);\r\n\r\n    return () => (\r\n      <div\r\n        class=\"m-breadcrumb\"\r\n        style={{\r\n          \"--color\": props.color,\r\n          \"--activeColor\": props.activeColor,\r\n        }}\r\n      >\r\n        {slots?.default?.()?.map((item, index) => (\r\n          <>\r\n            {item}\r\n            {index >= 0 && index < length.value - 1 && (\r\n              <span>\r\n                {(slots.separator && slots.separator?.()) || props.separator}\r\n              </span>\r\n            )}\r\n          </>\r\n        ))}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"MBreadcrumbItem\",\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    disabled: Boolean,\r\n  },\r\n  emits: [\"click\"],\r\n  setup(props, { emit, slots }) {\r\n    function handleClick(e: MouseEvent): void {\r\n      e.preventDefault();\r\n      if (props?.disabled) return;\r\n      emit(\"click\", e);\r\n    }\r\n\r\n    return () => (\r\n      <div\r\n        class={[`m-breadcrumb__item`, props.disabled ? \"is__disabled\" : \"\"]}\r\n        data-disabled={props.disabled}\r\n        onClick={handleClick}\r\n      >\r\n        {(slots.default && slots.default()) || props.title}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","// 获取节点当前坐标大小\r\nexport const getNodeRect = (node: HTMLElement | Element | null): DOMRect | null => {\r\n  return node ? node.getBoundingClientRect() : null\r\n};\r\n\r\n// 判断两个节点是否是同一个节点或者是子节点\r\nexport const isSameOrChildNode = (parent: HTMLElement, child: HTMLElement): boolean => {\r\n  if (!parent || !child) return false\r\n  if (parent === child) return true;\r\n  if (parent.contains && parent.contains(child)) return true;\r\n\r\n  return false\r\n}\r\n\r\n// 结束节点的动画\r\nexport const endAnimation = (node: HTMLElement) => {\r\n  return new Promise((resolve) => {\r\n    if (!node) return resolve(false)\r\n    node?.getAnimations()?.forEach((animation) => {\r\n      animation.cancel()\r\n    });\r\n    resolve(true)\r\n  })\r\n}\r\n\r\n// 判断节点是否动画结束\r\nexport const getAnimateEnd = (node: HTMLElement) => {\r\n  return new Promise((resolve) => {\r\n    if (!node) return null\r\n    Promise.all(\r\n      node.getAnimations({ subtree: true }).map((animation) => animation.finished),\r\n    ).then(() => {\r\n      resolve(true)\r\n    }).catch(() => {\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\n// 设置动画\r\nexport const animate = (node: HTMLElement, keyframes: Keyframe[] | PropertyIndexedKeyframes | null, options: number | KeyframeAnimationOptions, delay = 0) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (!node) return reject('node is null')\r\n    // 移除所有动画\r\n    await endAnimation(node)\r\n    node.animate(keyframes, options)\r\n    const time: number | string | CSSNumericValue = typeof options === 'number' ? options : (options?.duration || null)\r\n    if (time !== null && time !== undefined && Number(time) >= 0) {\r\n      setTimeout(() => {\r\n        resolve(true)\r\n      }, Number(time) - delay)\r\n    } else {\r\n      resolve(true)\r\n    }\r\n  })\r\n}\r\n\r\n\r\n// 设置样式\r\nexport const setDomStyleByObj = (node: HTMLElement, obj: { [key: string]: any }) => {\r\n  if (!node || !obj) return false;\r\n  node.setAttribute('style', Object.keys(obj).map((key) => `${key}:${obj[key]}`).join(';'))\r\n}","import { animate } from \"@/utils/dom\";\r\n\r\nconst showTime = 200;\r\nconst hideTime = 200;\r\n\r\nexport default {\r\n  hideTime,\r\n  showTime,\r\n  bgShow: async (el: HTMLElement | null) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { transform: \"scaleY(0.8)\", offset: 0 },\r\n        { transform: \"scaleY(1)\", offset: 0.33 },\r\n        {transform: \"scaleY(1)\", offset: 1},\r\n      ],\r\n      { duration: showTime }\r\n    ).catch(() => { });\r\n  },\r\n  cShow: async (el: HTMLElement | null) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { offset: 0, opacity: 0 },\r\n        { offset: 0.33, opacity: 0 },\r\n        { offset: 1, opacity: 1 },\r\n      ],\r\n      { duration: showTime }\r\n    ).catch(() => { });\r\n  },\r\n  bgHide: async (el) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { opacity: 1, offset: 0 },\r\n        { opacity: 0.66, offset: 0.33 },\r\n        { opacity: 0, transform: \"scaleY(0.8)\", offset: 1 },\r\n      ],\r\n      { duration: hideTime }\r\n    ).catch(() => { });\r\n  },\r\n  async cHide(el: HTMLElement | null) {\r\n    await animate(\r\n      el,\r\n      [\r\n        { offset: 0, opacity: 1 },\r\n        { offset: 0.33, opacity: 0 },\r\n        { offset: 1, opacity: 0 },\r\n      ],\r\n      { duration: hideTime }\r\n    ).catch(() => { });\r\n  },\r\n};\r\n","function getPlacement(placement, rect, cRect) {\r\n  // 获取浏览器窗口的宽度\r\n  var windowWidth = window.innerWidth;\r\n  // 获取浏览器窗口的高度\r\n  var windowHeight = window.innerHeight;\r\n\r\n  // 是否可以显示在上方\r\n  var canShowOnTop = rect.top > cRect?.height;\r\n  // 是否可以显示在下方\r\n  var canShowOnBottom = windowHeight - (rect?.top + cRect?.height) > 0;\r\n  // 是否可以显示在左边\r\n  var canShowOnLeft = rect.left > cRect.width;\r\n  // 是否可以显示在右边\r\n  var canShowOnRight = windowWidth - (rect.left + cRect.width) > 0;\r\n\r\n  if (canShowOnTop && canShowOnBottom && canShowOnLeft && canShowOnRight) return placement;\r\n  console.log(canShowOnTop,'canShowOnTop');\r\n  \r\n  if (canShowOnBottom) {\r\n    if (canShowOnLeft && canShowOnRight) {\r\n      return ['bottomRight', 'bottomLeft', 'bottom'].includes(placement) ? placement : 'bottomLeft'\r\n    } else if (canShowOnLeft) {\r\n      return 'bottomRight'\r\n    } else {\r\n      return 'bottomLeft'\r\n    }\r\n  } else {\r\n    if (canShowOnLeft && canShowOnRight) {\r\n      return ['topLeft', 'topRight', 'top'].includes(placement) ? placement : 'topLeft'\r\n    } else if (canShowOnLeft) {\r\n      return 'topLeft'\r\n    } else {\r\n      return 'topRight'\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function getRect(placement, rect, cRect) {\r\n  const st_px = document.documentElement.scrollTop\r\n  const key = getPlacement(placement, rect, cRect)\r\n\r\n  switch (key) {\r\n    case 'bottomRight':\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left + rect.width - cRect.width}`\r\n      }\r\n\r\n    case 'bottom':\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left + rect.width / 2 - cRect.width / 2}`\r\n      }\r\n\r\n    default:\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left}`\r\n      }\r\n  }\r\n}","import {\r\n  defineComponent,\r\n  PropType,\r\n  ref,\r\n  Teleport,\r\n  onMounted,\r\n  onUnmounted,\r\n  computed,\r\n  onBeforeMount,\r\n  reactive,\r\n  watch\r\n} from \"vue\";\r\nimport { PlacementType } from \"@/mostify-ui/types/types\";\r\nimport \"./style.scss\";\r\nimport { getNodeRect, isSameOrChildNode } from \"@/utils/dom\";\r\nimport animateOption from \"./animateOption\";\r\nimport { delay } from \"@/utils/utils\";\r\nimport { getAnimateEnd } from \"@/utils/dom\";\r\nimport { getRect } from \"./getRect\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDropdown\",\r\n  props: {\r\n    placement: {\r\n      type: String as PropType<PlacementType>,\r\n      default: \"bottomLeft\"\r\n    },\r\n    trigger: {\r\n      type: String,\r\n      default: \"click\",\r\n      validator: (value: string) => [\"hover\", \"click\"].includes(value)\r\n    },\r\n    // 隐藏是否销毁\r\n    destroyOnHide: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabled: Boolean,\r\n    open: { type: Boolean, default: false },\r\n    toBody: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  setup(props, { slots }) {\r\n    const triggerRef = ref<HTMLElement>(null);\r\n    const dropdownContentRef = ref<HTMLElement>(null);\r\n    const bodyRef = ref<HTMLElement>(null);\r\n    const show = ref(false);\r\n    const state = reactive({\r\n      top: \"0\",\r\n      left: \"0\",\r\n      waitChange: false,\r\n      renderToDom: null\r\n    });\r\n    const hideState = ref(false);\r\n    let timer = null;\r\n    const isShow = computed(() => {\r\n      return props.destroyOnHide ? show.value : true;\r\n    });\r\n    let trigger: HTMLElement | Element | null = null;\r\n\r\n    watch(\r\n      () => props.trigger,\r\n      () => {\r\n        unBindEvent();\r\n        bindEvent();\r\n      }\r\n    );\r\n\r\n    /**\r\n     * 处理点击事件 --- start ---\r\n     */\r\n\r\n    /**\r\n     * 处理点击事件 --- end ---\r\n     */\r\n\r\n    function renderRect() {\r\n      const rect = getNodeRect(trigger);\r\n      const cRect = getNodeRect(bodyRef.value);\r\n      const { top, left } = getRect(props.placement, rect, cRect);\r\n      state.top = `${top}px`;\r\n      state.left = `${left}px`;\r\n      dropdownContentRef.value.style.minWidth = `${rect.width}px`;\r\n    }\r\n\r\n    function scrollListenHandle() {\r\n      if (isShow.value) {\r\n        renderRect();\r\n      }\r\n    }\r\n\r\n    // 注册显示事件\r\n    async function showDropdown() {\r\n      show.value = true;\r\n      hideState.value = true;\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n      // 设置不可触发事件\r\n      state.waitChange = true;\r\n      await new Promise(resolve => requestAnimationFrame(resolve));\r\n      renderRect();\r\n      window.addEventListener(\"scroll\", scrollListenHandle, false);\r\n      // 执行动画\r\n      animateOption.cShow(bodyRef.value);\r\n      animateOption.bgShow(dropdownContentRef.value);\r\n      // 等待执行完成后\r\n      await getAnimateEnd(bodyRef.value).catch(() => {});\r\n      state.waitChange = false;\r\n    }\r\n    function handleClickHandle() {\r\n      if (state.waitChange || props.disabled) return;\r\n      let value = !show.value;\r\n\r\n      if (value) {\r\n        showDropdown();\r\n      } else {\r\n        hideDropdown();\r\n      }\r\n    }\r\n\r\n    function triggerMouseEnter() {\r\n      if (state.waitChange || props.disabled || show.value) return;\r\n      showDropdown();\r\n    }\r\n    function hideDropdown() {\r\n      if (state.waitChange) return;\r\n      if (hideState.value) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n      hideState.value = true;\r\n\r\n      timer = setTimeout(async () => {\r\n        if (hideState.value) {\r\n          state.waitChange = true;\r\n          animateOption.cHide(bodyRef.value);\r\n          animateOption.bgHide(dropdownContentRef.value);\r\n          await delay(0);\r\n          await getAnimateEnd(bodyRef.value).catch(() => {});\r\n          window.removeEventListener(\"scroll\", scrollListenHandle, false);\r\n          show.value = false;\r\n          state.waitChange = false;\r\n        }\r\n      }, 60);\r\n    }\r\n    function clickHideListenHandle(e) {\r\n      const el = e.target;\r\n      if (!el) return;\r\n      if (isSameOrChildNode(triggerRef.value, el)) return;\r\n      hideDropdown();\r\n    }\r\n    function onContentMouseEnter() {\r\n      hideState.value = true;\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n        show.value = true;\r\n      } else {\r\n        hideState.value = false;\r\n        show.value = true;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 事件注册和解绑 -- start ---\r\n     */\r\n    function bindEvent() {\r\n      window.addEventListener(\"click\", clickHideListenHandle, true);\r\n      if (props.trigger === \"click\") {\r\n        trigger?.addEventListener(\"click\", handleClickHandle, false);\r\n      } else {\r\n        trigger?.addEventListener(\"mouseenter\", triggerMouseEnter, false);\r\n        trigger?.addEventListener(\"mouseleave\", hideDropdown, false);\r\n        dropdownContentRef.value?.addEventListener(\r\n          \"mouseenter\",\r\n          onContentMouseEnter,\r\n          false\r\n        );\r\n        dropdownContentRef.value?.addEventListener(\r\n          \"mouseleave\",\r\n          hideDropdown,\r\n          false\r\n        );\r\n      }\r\n    }\r\n    // 销毁事件\r\n    function unBindEvent() {\r\n      trigger?.removeEventListener(\"click\", handleClickHandle, false);\r\n      window.removeEventListener(\"click\", clickHideListenHandle, false);\r\n\r\n      trigger?.removeEventListener(\"mouseenter\", triggerMouseEnter, false);\r\n      trigger?.removeEventListener(\"mouseleave\", hideDropdown, false);\r\n\r\n      dropdownContentRef.value?.removeEventListener(\r\n        \"mouseenter\",\r\n        onContentMouseEnter,\r\n        false\r\n      );\r\n      dropdownContentRef.value?.removeEventListener(\r\n        \"mouseleave\",\r\n        hideDropdown,\r\n        false\r\n      );\r\n    }\r\n\r\n    /**\r\n     * 事件注册和解绑 -- end ---\r\n     */\r\n\r\n    onBeforeMount(() => {\r\n      if (!document.querySelector(\"#m-inset__body\")) {\r\n        const insetBody = document.createElement(\"div\");\r\n        insetBody.setAttribute(\"id\", \"m-inset__body\");\r\n        document.querySelector(\"body\")?.appendChild(insetBody);\r\n      }\r\n    });\r\n    onMounted(() => {\r\n      if (triggerRef.value.children?.length === 1) {\r\n        trigger = triggerRef.value.children[0] || null;\r\n      } else {\r\n        trigger = triggerRef.value || null;\r\n      }\r\n      bindEvent();\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      unBindEvent();\r\n    });\r\n\r\n    return () => {\r\n      console.log(slots.content());\r\n      return (\r\n        <div>\r\n          <div\r\n            class=\"m-dropdown\"\r\n            ref={triggerRef}\r\n            style={{ \"pointer-events\": state.waitChange ? \"none\" : \"all\" }}>\r\n            {slots.default && slots.default()}\r\n          </div>\r\n\r\n          <Teleport to={\"#m-inset__body\"}>\r\n            {isShow.value && (\r\n              <div\r\n                class=\"m-dropdown__content m-box-shadow\"\r\n                v-show={show.value}\r\n                ref={dropdownContentRef}\r\n                style={{\r\n                  \"--top\": state.top,\r\n                  \"--left\": state.left,\r\n                  \"pointer-events\": state.waitChange ? \"none\" : \"all\"\r\n                }}>\r\n                <div class=\"m-dropdown__body\" ref={bodyRef}>\r\n                  {slots.content &&\r\n                    slots.content()?.map(item => {\r\n                      item.props = { ...item.props };\r\n                      return item;\r\n                    })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Teleport>\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","// 延迟执行\r\nexport const delay = (time: number) => new Promise((resolve) => setTimeout(resolve, time))\r\n\r\n// 等待渲染\r\nexport const delayRender = () => new Promise((resolve) => requestAnimationFrame(resolve))","import { defineComponent, provide, inject } from \"vue\";\r\nimport \"./style.scss\";\r\nimport { providerKey } from \"@/mostify-ui/config/config\";\r\n\r\nexport default defineComponent({\r\n  name: \"MButtonGroup\",\r\n  props: {\r\n    layout: {\r\n      type: String,\r\n      default: \"x\",\r\n      validator: (v: string) => [\"x\", \"y\"].includes(v),\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  setup(props, { slots }) {\r\n    const injectData = inject(providerKey, { size: \"\" });\r\n    provide(providerKey, { size: props.size || injectData.size });\r\n    return () => (\r\n      <div\r\n        class={[\r\n          \"m-button-group\",\r\n          props.layout === \"y\" ? \"m-button-layout-y\" : \"m-button-layout-x\",\r\n        ]}\r\n      >\r\n        {slots.default && slots.default()}\r\n      </div>\r\n    );\r\n  },\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MMenuItem\",\r\n  props: {\r\n    disabled: Boolean,\r\n    label: String\r\n  },\r\n  emits: [\"click\"],\r\n  setup(props, { slots, emit }) {\r\n    function handleClick(e: MouseEvent) {\r\n      if (props.disabled) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        return;\r\n      }\r\n      emit(\"click\", e);\r\n    }\r\n    return () => (\r\n      <div\r\n        class={[\"m-menu__item\", props.disabled ? \"is__disabled\" : \"\"]}\r\n        data-disabled={props.disabled}\r\n        aria-disabled={props.disabled}\r\n        onClick={handleClick}>\r\n        {(slots.default && slots.default()) || props.label}\r\n      </div>\r\n    );\r\n  }\r\n});\r\n","import { defineComponent, Transition } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"MTransition\",\r\n  props: {\r\n    onEnter: Function,\r\n    onLeave: Function\r\n  },\r\n  setup(props, ctx) {\r\n    return () => {\r\n      const vNodes = ctx.slots.default && ctx.slots.default();\r\n      return (\r\n        <Transition\r\n          appear={false}\r\n          onEnter={(el: Element, done: () => void) => props.onEnter?.(el, done)}\r\n          onLeave={(el: Element, done: () => void) => props.onLeave?.(el, done)}\r\n          css={false}>\r\n          {vNodes}\r\n        </Transition>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { animate } from \"@/utils/dom\";\r\n\r\nexport const dialogAnimationShow = async ({ mask, content, wrapper }) => {\r\n   animate(mask, [{ opacity: 0 }, { opacity: 1 }], 120);\r\n  animate(\r\n    wrapper,\r\n    [\r\n      { transform: \"scale(0.33)\", offset: 0, opacity: 0.66 },\r\n      { transform: \"scale(1)\", offset: 0.33, opacity: 1 },\r\n      { transform: \"scale(1)\", offset: 1, opacity: 1 },\r\n    ],\r\n    {\r\n      duration: 500,\r\n    }\r\n  );\r\n  await animate(\r\n    content,\r\n    [\r\n      { opacity: 0, offset: 0 },\r\n      { opacity: 0.25, offset: 0.35 },\r\n      { opacity: 1, offset: 1 }\r\n    ],\r\n    {\r\n      duration: 500,\r\n    }\r\n  );\r\n}\r\n\r\nexport const dialogAnimationHide = async ({ mask, wrapper, content }) => {\r\n  animate(mask, [{ opacity: 1 }, { opacity: 0 }], {\r\n    duration: 240\r\n  });\r\n  animate(\r\n    content,\r\n    [\r\n      { opacity: 1, offset: 0 },\r\n      { opacity: 0, offset: 0.2, },\r\n      { opacity: 0, offset: 1}\r\n    ],\r\n    {\r\n      duration: 240,\r\n    }\r\n  );\r\n  await animate(\r\n    wrapper,\r\n    [\r\n      { opacity: 1, offset: 0 },\r\n      { opacity: 0.88, offset: 0.33 },\r\n      { opacity: 0, offset: 1, transform: \"scale(0.33)\" }\r\n    ],\r\n    {\r\n      duration: 240,\r\n    },\r\n    20\r\n  );\r\n}\r\n\r\n// 当前弹窗在最前面\r\nexport const dialogAnimationShowTop = (target: HTMLElement | null) => {\r\n  if (!target) return false\r\n  const allDialogs = document.querySelectorAll(\".m-dialog[data-show='true']\");\r\n\r\n  if (allDialogs.length > 0) {\r\n    const last = allDialogs[allDialogs.length - 1];\r\n    return last === target\r\n  }\r\n\r\n  return false\r\n}\r\n","// 判断是否存在需要隐藏滚动条的元素\r\nexport const updateBodyScroll = (attr = 'm-dialog[data-active=\"true\"]') => {\r\n  const flag = document.querySelectorAll(attr).length > 0\r\n  if (flag) {\r\n    document.body.setAttribute('data-overflow', 'hidden')\r\n    document.documentElement.dataset.overflow = 'hidden'\r\n  } else {\r\n    document.body.setAttribute('data-overflow', 'auto')\r\n    document.documentElement.dataset.overflow = 'auto'\r\n  }\r\n}","import \"./styles/dialog.scss\";\r\nimport { defineComponent, Teleport } from \"vue\";\r\nimport type { PropType } from \"vue\";\r\nimport MTransition from \"@/mostify-ui/components/MTransition\";\r\nimport { MButton } from \"@/mostify-ui/components\";\r\nimport { useDialogRef, useDialogStyle } from \"./hooks\";\r\nimport {\r\n  dialogAnimationHide,\r\n  dialogAnimationShow,\r\n  dialogAnimationShowTop\r\n} from \"./utils/dialogAnimation\";\r\nimport { updateBodyScroll } from \"@/mostify-ui/utils/dom\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDialog\",\r\n  components: { MButton },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    content: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    className: String,\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    cancelBtnText: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    okBtnText: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    okBtnProps: {\r\n      type: Object,\r\n      default: () => ({ type: \"primary\" })\r\n    },\r\n    cancelBtnProps: {\r\n      type: Object,\r\n      default: () => ({ type: \"default\" })\r\n    },\r\n    width: {\r\n      type: [Number, String] as PropType<number | string>,\r\n      default: \"50%\"\r\n    },\r\n    height: {\r\n      type: [Number, String] as PropType<number | string>,\r\n      default: \"auto\"\r\n    },\r\n    showClose: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    maskBackgroundColor: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    fullscreen: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    escHide: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    maskHide: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    target: {\r\n      type: [String],\r\n      default: \"body\"\r\n    },\r\n    top: { type: String, default: \"center\" },\r\n    _onClose: Function\r\n  },\r\n  emits: [\"close\"],\r\n  setup(props, ctx) {\r\n    const { wrapperRef, bodyRef, maskRef, dialogRef } = useDialogRef();\r\n    const { contentStyle, wrapperStyle, bodyStyle } = useDialogStyle(props);\r\n    const onVisibleHide = (type: string) => {\r\n      props._onClose && props._onClose?.(type);\r\n      ctx.emit(\"close\", type);\r\n    };\r\n    const onHandleEscHideEvent = e => {\r\n      if (\r\n        (e.code === \"Escape\" || e.keyCode === 27 || e.key === \"Escape\") &&\r\n        props.escHide &&\r\n        dialogAnimationShowTop(dialogRef.value)\r\n      ) {\r\n        ctx.emit(\"close\", { type: \"cancel\" });\r\n      }\r\n    };\r\n    const onEnter = async (_, done) => {\r\n      await new Promise(resolve => requestAnimationFrame(resolve));\r\n      const transformOrigin = \"center\";\r\n\r\n      wrapperRef.value.style.setProperty(\"transform-origin\", transformOrigin);\r\n      bodyRef.value.style.setProperty(\"transform-origin\", transformOrigin);\r\n      updateBodyScroll('.m-dialog[data-show=\"true\"]');\r\n      await dialogAnimationShow({\r\n        mask: maskRef.value,\r\n        content: bodyRef.value,\r\n        wrapper: wrapperRef.value\r\n      });\r\n      props.escHide && document.addEventListener(\"keyup\", onHandleEscHideEvent);\r\n      done();\r\n    };\r\n    const onLeave = async (_, done) => {\r\n      await dialogAnimationHide({\r\n        mask: maskRef.value,\r\n        content: bodyRef.value,\r\n        wrapper: wrapperRef.value\r\n      });\r\n      updateBodyScroll('.m-dialog[data-show=\"true\"]');\r\n      document.removeEventListener(\"keyup\", onHandleEscHideEvent);\r\n      done();\r\n    };\r\n\r\n    return () => {\r\n      // slots content slots footer slots header\r\n      const defaultSlot = ctx.slots.default?.();\r\n      const footerSlot = ctx.slots.footer?.();\r\n      const headerSlot = ctx.slots.header?.();\r\n      const bodySlot = ctx.slots.body?.();\r\n\r\n      // render dom\r\n      return (\r\n        <Teleport to={props.target}>\r\n          <MTransition onEnter={onEnter} onLeave={onLeave}>\r\n            <div\r\n              class={`m-dialog ${props.className || \"\"}`}\r\n              v-show={props.visible}\r\n              data-show={props.visible}\r\n              ref={dialogRef}\r\n              style={{\r\n                \"--m-dialog-mask-color\": props.maskBackgroundColor\r\n              }}>\r\n              <section class=\"m-dialog-mask\" ref={maskRef} />\r\n              <div\r\n                class=\"m-dialog-container\"\r\n                onClick={() => props.maskHide && onVisibleHide(\"cancel\")}>\r\n                <div style={wrapperStyle.value}>\r\n                  <div class=\"m-dialog-cover\" style={contentStyle.value}>\r\n                    <div\r\n                      class=\"m-dialog-content\"\r\n                      onClick={e => e.stopPropagation()}>\r\n                      <div\r\n                        class=\"m-dialog-content__background\"\r\n                        ref={wrapperRef}\r\n                      />\r\n\r\n                      <section\r\n                        class=\"m-dialog-content__wrapper\"\r\n                        ref={bodyRef}\r\n                        style={bodyStyle.value}>\r\n                        {props.showClose && (\r\n                          <MButton\r\n                            type=\"text\"\r\n                            shape=\"square\"\r\n                            size=\"small\"\r\n                            class=\"m-dialog-content__close\"\r\n                            onClick={() => onVisibleHide(\"cancel\")}>\r\n                            <svg\r\n                              fill=\"currentColor\"\r\n                              class=\"icon\"\r\n                              viewBox=\"0 0 1024 1024\"\r\n                              version=\"1.1\"\r\n                              xmlns=\"http://www.w3.org/2000/svg\"\r\n                              p-id=\"5090\"\r\n                              width=\"28\"\r\n                              height=\"28\">\r\n                              <path d=\"M504.224 470.288l207.84-207.84a16 16 0 0 1 22.608 0l11.328 11.328a16 16 0 0 1 0 22.624l-207.84 207.824 207.84 207.84a16 16 0 0 1 0 22.608l-11.328 11.328a16 16 0 0 1-22.624 0l-207.824-207.84-207.84 207.84a16 16 0 0 1-22.608 0l-11.328-11.328a16 16 0 0 1 0-22.624l207.84-207.824-207.84-207.84a16 16 0 0 1 0-22.608l11.328-11.328a16 16 0 0 1 22.624 0l207.824 207.84z\"></path>\r\n                            </svg>\r\n                          </MButton>\r\n                        )}\r\n\r\n                        {headerSlot\r\n                          ? headerSlot\r\n                          : props.title && (\r\n                              <header class=\"m-dialog__header\">\r\n                                <span class=\"m-dialog-title\">\r\n                                  {props.title}\r\n                                </span>\r\n                              </header>\r\n                            )}\r\n\r\n                        {bodySlot ? (\r\n                          bodySlot\r\n                        ) : (\r\n                          <main class=\"m-dialog__body\">\r\n                            {defaultSlot || props.content}\r\n                          </main>\r\n                        )}\r\n\r\n                        {footerSlot\r\n                          ? footerSlot\r\n                          : (props.cancelBtnText || props.okBtnText) && (\r\n                              <footer class=\"m-dialog__footer\">\r\n                                {props.cancelBtnText && (\r\n                                  <MButton\r\n                                    {...props.cancelBtnProps}\r\n                                    onClick={() => onVisibleHide(\"cancel\")}>\r\n                                    {props.cancelBtnText}\r\n                                  </MButton>\r\n                                )}\r\n                                {props.okBtnText && (\r\n                                  <MButton\r\n                                    {...props.okBtnProps}\r\n                                    onClick={() => onVisibleHide(\"ok\")}>\r\n                                    {props.okBtnText}\r\n                                  </MButton>\r\n                                )}\r\n                              </footer>\r\n                            )}\r\n                      </section>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </MTransition>\r\n        </Teleport>\r\n      );\r\n    };\r\n  }\r\n});\r\n","\r\nimport { ref, computed } from 'vue';\r\n\r\nexport const useDialogRef = () => {\r\n  const dialogRef = ref<HTMLElement | null>(null)\r\n  const wrapperRef = ref<HTMLElement | null>(null)\r\n  const maskRef = ref<HTMLElement | null>(null)\r\n  const bodyRef = ref<HTMLElement | null>(null)\r\n  return { dialogRef, wrapperRef, maskRef, bodyRef }\r\n}\r\n\r\nexport const useDialogStyle = (props) => {\r\n  const contentStyle = computed(() => {\r\n    const width = (typeof props.width === 'number' ? `${props.width}px` : props.width) || 'auto'\r\n    const height = (typeof props.height === 'number' ? `${props.height}px` : props.height) || 'auto'\r\n\r\n    if (props.fullscreen) {\r\n      return {\r\n        width: '100%',\r\n        padding: '0px',\r\n        margin: '0px',\r\n        height: '100%',\r\n      }\r\n    }\r\n    return {\r\n      width,\r\n      maxWidth: '100%',\r\n      height,\r\n      margin: `${props.top && props.top !== 'center' ? '0 auto' : '24px auto'}`,\r\n    }\r\n  })\r\n\r\n  const wrapperStyle = computed(() => {\r\n    if (props.fullscreen) {\r\n      return `width: 100%; height: 100%;`\r\n    } else if (props.top === 'center') {\r\n      return `display: flex; \r\n        align-items: center; \r\n        justify-content: center; \r\n        min-height: 100%;\r\n      `\r\n    }\r\n\r\n    return `position:relative;top: ${props.top};padding-bottom:24px;`\r\n  })\r\n\r\n  const bodyStyle = computed(() => {\r\n    return `width: 100%; height: 100%;  position: relative;insert: 0; overflow-y: auto;`\r\n  })\r\n  return { contentStyle, wrapperStyle, bodyStyle }\r\n} ","// 支持js打开弹窗\r\nimport MDialog from '../Dialog.tsx'\r\nimport { createApp } from 'vue'\r\nimport { dialogAnimationShow, dialogAnimationHide } from './dialogAnimation.ts'\r\n\r\ninterface DialogConfirmTypes {\r\n  title?: string\r\n  top?: string\r\n  width?: string\r\n  okBtnText: string\r\n  cancelBtnText?: string\r\n  okBtnProps?: Object\r\n  cancelBtnProps?: Object\r\n}\r\n\r\n// 支持配置的选项\r\nconst getDefaultOpt = (obj: DialogConfirmTypes) => {\r\n  const title = obj?.title || ''\r\n  const width = obj.width || 480\r\n  const top = obj?.top || 'center'\r\n  const data = {\r\n    onConfirm: () => { },\r\n    onCancel: () => { },\r\n    okBtnText: obj?.okBtnText || '确定',\r\n    cancelBtnText: obj?.cancelBtnText || '',\r\n    okBtnProps: obj?.okBtnProps,\r\n    cancelBtnProps: obj?.cancelBtnProps,\r\n    content: 'hello',\r\n    className: 'm-dialog-confirm',\r\n    title,\r\n    width,\r\n    top,\r\n    escHide: false,\r\n    maskHide: false,\r\n    showClose: false,\r\n    visible: true,\r\n  }\r\n  return data\r\n}\r\n\r\nconst createDialog = async (option) => {\r\n  const div = document.createElement('div')\r\n  document.body.appendChild(div)\r\n  let mask, content, wrapper\r\n  const app = createApp(MDialog, {\r\n    ...getDefaultOpt(option),\r\n    target: div,\r\n    _onClose: async (type: 'cancel' | 'ok') => {\r\n      if (type === 'cancel' && option.onCancel) {\r\n        option.onCancel?.();\r\n      } else if (type === 'ok' && option.onConfirm) {\r\n        option.onConfirm?.();\r\n      }\r\n      await dialogAnimationHide({ mask, wrapper, content })\r\n      app.unmount();\r\n      div.remove();\r\n    },\r\n  })\r\n  app.mount(div)\r\n  mask = div.querySelector('.m-dialog-mask') as HTMLElement\r\n  content = div.querySelector('.m-dialog-content__wrapper') as HTMLElement\r\n  wrapper = div.querySelector('.m-dialog-content__background') as HTMLElement\r\n  let transformOrigin = 'center'\r\n\r\n  wrapper.style.setProperty(\"transform-origin\", transformOrigin);\r\n  content.style.setProperty(\"transform-origin\", transformOrigin);\r\n  dialogAnimationShow({ mask, content, wrapper })\r\n}\r\n\r\nconst Dialog = Object.freeze({\r\n  open: (option = {}) => {\r\n    createDialog(Object.assign({}, option))\r\n  },\r\n  confirm: (option = {}) => {\r\n    createDialog(Object.assign({}, option, {\r\n      okBtnType: 'primary',\r\n      cancelBtnText: '取消',\r\n      cancelBtnProps: { type: 'default' }\r\n    }))\r\n  },\r\n})\r\n\r\nexport default Dialog","import { defineComponent } from \"vue\";\r\nimport \"./styles/input.scss\";\r\nimport { useInputState, useInputClass } from \"./hooks\";\r\n\r\nexport default defineComponent({\r\n  name: \"MInput\",\r\n  props: {\r\n    value: [String, Number],\r\n    modelValue: [String, Number],\r\n    placeholder: String,\r\n    type: {\r\n      type: String,\r\n      default: \"text\"\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"small\"\r\n    },\r\n    prefix: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    suffix: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    prepend: { type: String, default: \"\" },\r\n    append: { type: String, default: \"\" },\r\n    clearable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    width: {\r\n      type: [String, Number],\r\n      default: \"\"\r\n    },\r\n    autofocus: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    status: {\r\n      type: String,\r\n      validator: function (val) {\r\n        return (\r\n          val === \"success\" ||\r\n          val === \"error\" ||\r\n          val === \"warning\" ||\r\n          val === \"\"\r\n        );\r\n      },\r\n      default: \"\"\r\n    }\r\n  },\r\n  emits: [\"update:modelValue\", \"change\", \"focus\", \"blur\"],\r\n  exposed: [\"focus\", \"blur\"],\r\n  setup(props, ctx) {\r\n    const { inputRef, isFocus, setIsFocus, inputValue } = useInputState(props);\r\n    const { inputClass } = useInputClass(props, isFocus);\r\n\r\n    const onInputChange = e => {\r\n      if (props.disabled || props.readonly) return;\r\n      inputValue.value = e.target.value;\r\n      ctx.emit(\"update:modelValue\", inputValue.value);\r\n      ctx.emit(\"change\", inputValue.value);\r\n    };\r\n    const focus = () => {\r\n      inputRef.value?.focus();\r\n    };\r\n    const blur = () => {\r\n      inputRef.value?.blur();\r\n    };\r\n    ctx.expose({ focus, blur });\r\n\r\n    return () => {\r\n      const prefixSlot = ctx.slots?.prefix?.();\r\n      const suffixSlot = ctx.slots?.suffix?.();\r\n      const prependSlot = ctx.slots?.prepend?.();\r\n      const appendSlot = ctx.slots?.append?.();\r\n\r\n      const preClass = prependSlot || props.prepend ? \"is-prepend\" : \"\";\r\n      const appendClass = appendSlot || props.append ? \"is-append\" : \"\";\r\n\r\n      let names = inputClass.value;\r\n      preClass && (names = names + \" \" + preClass);\r\n      appendClass && (names = names + \" \" + appendClass);\r\n\r\n      return (\r\n        <div class={names}>\r\n          {prependSlot || props.prepend ? (\r\n            <div class=\"m-input-prepend\">{prependSlot || props.prepend}</div>\r\n          ) : null}\r\n\r\n          <div class=\"m-input-content\">\r\n            {prefixSlot || props.prefix ? (\r\n              <div class=\"m-input-prefix\">{prefixSlot || props.prefix}</div>\r\n            ) : null}\r\n            <input\r\n              class=\"m-input-inner\"\r\n              ref={inputRef}\r\n              type={props.type}\r\n              disabled={props.disabled}\r\n              placeholder={props.placeholder}\r\n              readonly={props.readonly}\r\n              value={inputValue.value}\r\n              autofocus={props.autofocus}\r\n              onInput={onInputChange}\r\n              onBlur={e => {\r\n                setIsFocus(false);\r\n                ctx.emit(\"blur\", e);\r\n              }}\r\n              onFocus={e => {\r\n                setIsFocus(true);\r\n                ctx.emit(\"focus\", e);\r\n              }}\r\n            />\r\n            {props.clearable && inputValue.value && (\r\n              <span\r\n                class=\"m-input-clear\"\r\n                onClick={() => {\r\n                  inputValue.value = \"\";\r\n                  ctx.emit(\"update:modelValue\", inputValue.value);\r\n                  ctx.emit(\"change\", inputValue.value);\r\n                }}>\r\n                <svg\r\n                  class=\"m-input-clear-icon\"\r\n                  fill=\"currentColor\"\r\n                  viewBox=\"0 0 1024 1024\">\r\n                  <path d=\"M554.586353 512l170.556235-170.556235c11.444706-11.414588 11.595294-30.659765-0.180706-42.405647a29.906824 29.906824 0 0 0-42.405647-0.180706L512 469.413647l-170.556235-170.556235a30.208 30.208 0 0 0-42.405647 0.180706 29.906824 29.906824 0 0 0-0.180706 42.405647L469.413647 512l-170.556235 170.556235c-11.444706 11.414588-11.595294 30.659765 0.180706 42.405647a29.906824 29.906824 0 0 0 42.405647 0.180706L512 554.586353l170.556235 170.556235c11.414588 11.444706 30.659765 11.595294 42.405647-0.180706a29.906824 29.906824 0 0 0 0.180706-42.405647L554.586353 512zM512 993.882353C245.850353 993.882353 30.117647 778.149647 30.117647 512S245.850353 30.117647 512 30.117647s481.882353 215.732706 481.882353 481.882353-215.732706 481.882353-481.882353 481.882353z\"></path>\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {suffixSlot ||\r\n              (props.suffix && (\r\n                <div class=\"m-input-suffix\">{suffixSlot || props.suffix}</div>\r\n              ))}\r\n          </div>\r\n\r\n          {appendSlot || props.append ? (\r\n            <div class=\"m-input-append\">{appendSlot || props.append}</div>\r\n          ) : null}\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { ref, computed, watch } from 'vue';\r\n\r\nexport const useInputState = (props) => {\r\n  const inputRef = ref<HTMLInputElement | null>(null);\r\n  const isFocus = ref(false);\r\n  const inputValue = ref(props.value || props.modelValue || '')\r\n\r\n  const setIsFocus = (val: boolean) => {\r\n    isFocus.value = val;\r\n  };\r\n\r\n  watch(() => [props.modelValue, props.value], (n, o) => {\r\n    inputValue.value = n[0] === o[0] ? (n[1] || '') : (n[0] || '')\r\n  })\r\n\r\n  return { inputRef, inputValue, isFocus, setIsFocus };\r\n}\r\n\r\nexport const useInputClass = (props, focusState) => {\r\n  const inputClass = computed(() => {\r\n    const classNameArr = ['m-input'];\r\n\r\n    props.size && classNameArr.push(`m-input-size-${props.size}`)\r\n    props.status && classNameArr.push(`m-input-status-${props.status}`)\r\n\r\n    if (props.disabled) {\r\n      classNameArr.push('m-input-disabled');\r\n      return classNameArr\r\n    }\r\n\r\n    if (props.readonly) {\r\n      classNameArr.push('m-input-readonly');\r\n      return classNameArr\r\n    }\r\n\r\n    focusState.value && classNameArr.push('is-focus');\r\n    return classNameArr?.join(\" \")\r\n  });\r\n\r\n\r\n\r\n  return { inputClass };\r\n};\r\n\r\n","import { defineComponent, ref } from \"vue\";\r\nimport MButton from \"../MButton\";\r\nimport MIcon from \"../MIcon\";\r\nimport \"./alert.scss\";\r\n\r\nfunction AlertIcon({ type }) {\r\n  switch (type) {\r\n    case \"success\":\r\n      return <MIcon size=\"20px\" name=\"check-circle-fill\" />;\r\n    case \"warning\":\r\n      return <MIcon size=\"20px\" name=\"warning-circle-fill\" />;\r\n    case \"danger\":\r\n      return <MIcon size=\"20px\" name=\"close-circle-fill\" />;\r\n    default:\r\n      return <MIcon size=\"20px\" name=\"info-circle-fill\" />;\r\n  }\r\n}\r\nexport default defineComponent({\r\n  name: \"MAlert\",\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: \"primary\"\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    description: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    showClose: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    showIcon: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    dark: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  emits: [\"close\"],\r\n  setup(props, { slots, emit }) {\r\n    const show = ref(true);\r\n\r\n    const onHandleClose = () => {\r\n      show.value = false;\r\n      emit(\"close\");\r\n    };\r\n    return () => {\r\n      const titleText = slots.title ? slots.title() : props.title;\r\n      const defaultSlot = slots.default ? slots.default() : props.description;\r\n      const iconSlot = slots.icon ? (\r\n        slots.icon()\r\n      ) : props.icon ? (\r\n        <AlertIcon type={props.type} />\r\n      ) : (\r\n        \"\"\r\n      );\r\n      return (\r\n        <div\r\n          class={`m-alert m-alert-${props.type} ${props.dark ? \"is-dark\" : \"\"}`}\r\n          style={{ display: show.value ? \"block\" : \"none\" }}>\r\n          <main class=\"m-alert-main\">\r\n            {props.showIcon && iconSlot && (\r\n              <div class=\"m-alert-icon\">{iconSlot}</div>\r\n            )}\r\n\r\n            <div class=\"m-alert-content\">\r\n              {titleText && <div class=\"m-alert-title\">{titleText}</div>}\r\n              {defaultSlot && (\r\n                <div class=\"m-alert-description\">{defaultSlot}</div>\r\n              )}\r\n            </div>\r\n\r\n            {props.showClose && (\r\n              <span class=\"m-alert-close\">\r\n                <MButton\r\n                  onClick={onHandleClose}\r\n                  rightIcon=\"close\"\r\n                  type=\"text\"\r\n                  shape=\"circle\"\r\n                />\r\n              </span>\r\n            )}\r\n          </main>\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport { useCheckbox } from \"./hooks\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MCheckbox\",\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    checked: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    indeterminate: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: [String, Number],\r\n      default: \"\"\r\n    }\r\n  },\r\n  emits: [\r\n    \"update:modelValue\",\r\n    \"change\",\r\n    \"update:checked\",\r\n    \"update:indeterminate\"\r\n  ],\r\n  \r\n  setup(props, { emit, slots }) {\r\n    const { checked, indeterminate, toggle } = useCheckbox(props, emit);\r\n\r\n    return () => {\r\n      const label = slots.default ? slots.default() : props.label;\r\n      return (\r\n        <div\r\n          class={{\r\n            \"m-checkbox\": true,\r\n            \"m-checkbox-indeterminate\": indeterminate\r\n          }}\r\n          onClick={toggle}>\r\n          <div class=\"m-checkbox-main\">\r\n            <span class=\"m-checkbox-state\">\r\n              <input\r\n                type=\"checkbox\"\r\n                class=\"m-checkbox-input\"\r\n                checked={checked.value}\r\n                disabled={props.disabled}\r\n                value={props.value}\r\n              />\r\n              <span class=\"m-checkbox-box\"></span>\r\n            </span>\r\n            <span class=\"m-checkbox-label\">{label}</span>\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","\r\nimport { ref } from 'vue'\r\nexport const useCheckbox = (props, emit) => {\r\n  const indeterminate = ref(props.indeterminate);\r\n  const checked = ref(props.checked);\r\n  \r\n  const toggle = () => { \r\n    if(props.disabled) return;\r\n    checked.value = !checked.value;\r\n    indeterminate.value = false;\r\n    emit('update:checked', checked.value);\r\n    emit('update:indeterminate', indeterminate.value);\r\n    emit('change', checked.value);\r\n    console.log('checked.value', checked.value);\r\n  }\r\n\r\n\r\n  return {\r\n    toggle,\r\n    indeterminate,\r\n    checked\r\n  }\r\n}","// import '@/motion/styles/index.scss';\r\nimport MButton from './MButton'\r\nimport MSpace from './MSpace'\r\nimport MDivider from './MDivider'\r\nimport MAnchor from './MAnchor'\r\nimport MConfigProvider from './MConfigProvider'\r\nimport MBreadcrumb from './MBreadcrumb'\r\nimport MBreadcrumbItem from './MBreadcrumbItem'\r\nimport MDropdown from './MDropdown'\r\nimport MButtonGroup from './MButtonGroup'\r\nimport MMenuItem from './MMenuItem'\r\nimport MDialog, { Dialog } from './MDialog'\r\nimport { MInput } from './MInput'\r\nimport MIcon from './MIcon'\r\nimport MAlert from './MAlert/MAlert'\r\nimport MCheckbox from './MCheckbox'\r\n\r\nconst components = [\r\n  MButton,\r\n  MSpace,\r\n  MDivider,\r\n  MAnchor,\r\n  MConfigProvider,\r\n  MBreadcrumb,\r\n  MBreadcrumbItem,\r\n  MDropdown,\r\n  MButtonGroup,\r\n  MMenuItem,\r\n  MDialog,\r\n  MInput,\r\n  MIcon,\r\n  MAlert,\r\n  MCheckbox\r\n].map(item => {\r\n  item.install = function (app) {\r\n    app.component(item.name, item)\r\n  }\r\n  return item\r\n})\r\n\r\nexport default {\r\n  install(app) {\r\n    components.forEach(component => {\r\n      app.component(component.name, component)\r\n    })\r\n  }\r\n}\r\n\r\nexport {\r\n  MButton,\r\n  MSpace,\r\n  MDivider,\r\n  MAnchor,\r\n  MConfigProvider,\r\n  MBreadcrumb,\r\n  MBreadcrumbItem,\r\n  MDropdown,\r\n  MButtonGroup,\r\n  MMenuItem,\r\n  MDialog,\r\n  Dialog,\r\n  MInput,\r\n  MIcon,\r\n  MAlert,\r\n  MCheckbox\r\n}"],"names":["providerKey","Symbol","defineComponent","name","props","type","String","default","size","color","setup","iconName","computed","_createVNode","class","value","style","fontSize","lineHeight","shape","disabled","Boolean","loading","border","light","leftIcon","rightIcon","emits","slots","emit","btnClass","contentShow","setClickXEvent","btnRef","rippleRef","ref","injectData","inject","arr","push","includes","rippleCopy","async","e","document","createElement","className","ripple","cloneNode","appendChild","rect","getBoundingClientRect","Math","max","width","height","top","clientY","toFixed","left","clientX","abs","setAttribute","classList","add","Promise","resolve","setTimeout","remove","onChangeByType","preventDefault","onmousedown","MIcon","onMousedown","onClick","onFocus","onBlur","marginRight","viewBox","d","fill","_Fragment","layout","validator","val","alignItems","layoutClass","defaultItems","map","item","index","key","v","dividerClass","getTarget","Function","window","_","locale","provide","separator","activeColor","length","title","handleClick","getNodeRect","node","getAnimateEnd","all","getAnimations","subtree","animation","finished","then","catch","animate","keyframes","options","delay","reject","forEach","cancel","endAnimation","time","duration","Number","animateOption","hideTime","showTime","bgShow","el","transform","offset","cShow","opacity","bgHide","getRect","placement","cRect","st_px","documentElement","scrollTop","windowWidth","innerWidth","windowHeight","innerHeight","canShowOnTop","canShowOnBottom","canShowOnLeft","canShowOnRight","trigger","destroyOnHide","open","toBody","triggerRef","dropdownContentRef","bodyRef","show","state","reactive","waitChange","renderToDom","hideState","timer","isShow","renderRect","minWidth","scrollListenHandle","showDropdown","clearTimeout","requestAnimationFrame","addEventListener","handleClickHandle","hideDropdown","triggerMouseEnter","cHide","removeEventListener","clickHideListenHandle","target","parent","child","contains","onContentMouseEnter","bindEvent","unBindEvent","watch","onBeforeMount","querySelector","insetBody","onMounted","children","onUnmounted","Teleport","to","_withDirectives","content","_vShow","label","stopPropagation","onEnter","onLeave","ctx","vNodes","Transition","appear","done","css","s","_isVNode","Object","prototype","toString","call","dialogAnimationShow","mask","wrapper","dialogAnimationHide","updateBodyScroll","attr","querySelectorAll","body","dataset","overflow","components","MButton","visible","cancelBtnText","okBtnText","okBtnProps","cancelBtnProps","showClose","maskBackgroundColor","fullscreen","escHide","maskHide","_onClose","wrapperRef","maskRef","dialogRef","contentStyle","wrapperStyle","bodyStyle","padding","margin","maxWidth","useDialogStyle","onVisibleHide","onHandleEscHideEvent","code","keyCode","allDialogs","transformOrigin","setProperty","defaultSlot","footerSlot","footer","headerSlot","header","bodySlot","MTransition","version","xmlns","_mergeProps","getDefaultOpt","obj","onConfirm","onCancel","createDialog","option","div","app","createApp","MDialog","unmount","mount","l","Dialog","freeze","assign","confirm","okBtnType","modelValue","placeholder","prefix","suffix","prepend","append","clearable","readonly","autofocus","status","exposed","inputRef","isFocus","setIsFocus","inputValue","n","o","inputClass","focusState","classNameArr","join","useInputClass","onInputChange","expose","focus","blur","prefixSlot","suffixSlot","prependSlot","appendSlot","preClass","appendClass","names","onInput","AlertIcon","icon","description","showIcon","dark","onHandleClose","titleText","iconSlot","display","checked","indeterminate","toggle","MSpace","MDivider","MAnchor","MConfigProvider","MBreadcrumb","MBreadcrumbItem","MDropdown","MButtonGroup","MMenuItem","MInput","MAlert","MCheckbox","install","component"],"mappings":"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"}