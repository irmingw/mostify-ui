{"version":3,"file":"mostify-ui.js","sources":["../../../packages/mostify/utils/constants.ts","../../../packages/mostify/hooks/useProvider.ts","../../../packages/mostify/components/MButton/hooks/useBtn.tsx","../../../packages/mostify/components/MIcon/MIcon.tsx","../../../packages/mostify/components/MButton/Button.tsx","../../../packages/mostify/components/MSpace/MSpace.tsx","../../../packages/mostify/components/MDivider/MDivider.tsx","../../../packages/mostify/components/MAnchor/MAnchor.tsx","../../../packages/mostify/components/MConfigProvider/MConfigProvider.tsx","../../../packages/mostify/components/MBreadcrumb/MBreadcrumb.tsx","../../../packages/mostify/components/MBreadcrumb/Item.tsx","../../../packages/mostify/utils/dom.ts","../../../packages/mostify/components/MDropdown/animateOption.ts","../../../packages/mostify/utils/common.ts","../../../packages/mostify/components/MDropdown/getRect.ts","../../../packages/mostify/components/MDropdown/MDropdown.tsx","../../../packages/mostify/components/MButtonGroup/MButtonGroup.tsx","../../../packages/mostify/components/MMenuItem/MMenuItem.tsx","../../../packages/mostify/components/MTransition/Transition.tsx","../../../packages/mostify/components/MDialog/utils/dialogAnimation.ts","../../../packages/mostify/components/MDialog/Dialog.tsx","../../../packages/mostify/components/MDialog/hooks/index.ts","../../../packages/mostify/components/MDialog/utils/dialog.ts","../../../packages/mostify/components/MInput/hooks/useState.ts","../../../packages/mostify/hooks/useFocus.ts","../../../packages/mostify/components/MInput/Input.tsx","../../../packages/mostify/components/MInput/hooks/useInputNumber.ts","../../../packages/mostify/components/MInput/InputNumber.tsx","../../../packages/mostify/components/MInput/Textarea.tsx","../../../packages/mostify/components/MAlert/MAlert.tsx","../../../packages/mostify/components/MCheckbox/Checkbox.tsx","../../../packages/mostify/components/MCheckbox/hooks.ts","../../../packages/mostify/components/MAvatar/Avatar.tsx","../../../packages/mostify/components/index.ts"],"sourcesContent":["// 定义全局静态字段\r\nexport const providerKey = Symbol('mostify-provider-option');","import { inject } from \"vue\";\r\nimport { providerKey } from \"@/mostify/utils/constants\";\r\n\r\nconst useProvider = () => {\r\n  const { size, zIndex } = inject(providerKey, { size: \"small\", zIndex: 1000 });\r\n    \r\n  return {\r\n    size: size as string,\r\n    zIndex: zIndex as number,\r\n  };\r\n};\r\n\r\nexport default useProvider;\r\n","import { computed, ref } from \"vue\";\r\nimport useProvider from \"@/mostify/hooks/useProvider\";\r\n\r\nexport const useBtn = props => {\r\n  const btnRef = ref<HTMLElement | null>(null);\r\n  const { size } = useProvider();\r\n  const btnSize = computed(() => props.size || size || \"small\");\r\n  // className\r\n  const btnClass = computed(() => {\r\n    const arr = [\"m-button\"];\r\n    props.type && arr.push(\"m-button-type-\" + props.type);\r\n    arr.push(\"m-button-size-\" + btnSize.value);\r\n    props.shape && arr.push(\"m-button-shape-\" + props.shape);\r\n    props.loading && arr.push(\"is-loading\");\r\n    props.disabled && arr.push(\"is-disabled\");\r\n    return arr;\r\n  });\r\n  const contentShow = computed(\r\n    () => !(props.loading && [\"circle\", \"square\"].includes(props.shape))\r\n  );\r\n\r\n  return {\r\n    btnClass,\r\n    contentShow,\r\n    btnRef,\r\n    btnSize\r\n  };\r\n};\r\n\r\nexport const useRipple = (props, wrapper) => {\r\n  const rippleRef = ref<HTMLElement | null>(null);\r\n  // rippler effect// User ripple effect\r\n  let rippleCopy = null;\r\n  // rippler effect\r\n  const setRipple = async (e: MouseEvent) => {\r\n    if (!rippleRef.value || props.disabled || props.loading) return;\r\n    const rect = wrapper.value?.getBoundingClientRect();\r\n    if (!rect) return;\r\n    if (!rippleCopy) {\r\n      rippleCopy = document.createElement(\"div\");\r\n      rippleCopy.className = \"m-button-ripple\";\r\n    }\r\n    const ripple = rippleCopy.cloneNode() as HTMLElement;\r\n    rippleRef.value.appendChild(ripple);\r\n\r\n    const size = Math.max(rect.width, rect.height);\r\n    const width = size + \"px\";\r\n    const height = width;\r\n    let top = (e.clientY - rect.top - size / 2).toFixed(0) + \"px\";\r\n    let left = (e.clientX - rect.left - size / 2).toFixed(0) + \"px\";\r\n    top = (rect.height - size) * 0.5 + \"px\";\r\n    if (Math.abs(rect.width - rect.height) < 12) {\r\n      left = (rect.width - size) * 0.5 + \"px\";\r\n    }\r\n\r\n    ripple.setAttribute(\r\n      \"style\",\r\n      `width:${width};height:${height};top:${top};left:${left};`\r\n    );\r\n    ripple.classList.add(\"m-button-ripple-active\");\r\n    await new Promise(resolve => setTimeout(resolve, 500));\r\n    ripple.remove();\r\n  };\r\n\r\n  return {\r\n    setRipple,\r\n    rippleRef\r\n  };\r\n};\r\n\r\nconst pdMap = {\r\n  mini: \"0 12px\",\r\n  small: \"0 16px\",\r\n  large: \"0 24px\"\r\n}\r\n\r\nexport const useStyle = (props,btnSize) => {\r\n\r\n  const styles = computed(() => {\r\n    return {\r\n      width: props.block ? '100%' : '',\r\n      '--button-height': `var(--m-size-${btnSize.value})`,\r\n      '--button-padding': pdMap[btnSize.value],\r\n    };\r\n  });\r\n  return {\r\n    styles,\r\n  };\r\n}","import { defineComponent, computed } from \"vue\";\r\nimport \"./source/iconfont.css\";\r\nexport default defineComponent({\r\n  name: \"MIcon\",\r\n  props: {\r\n    name: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"16px\"\r\n    },\r\n    color: {\r\n      type: String,\r\n      default: \"currentColor\"\r\n    }\r\n  },\r\n\r\n  setup(props, { emit }) {\r\n    const iconName = computed(() => `mostifyiconfont m-icon m-icon-${props.name}`);\r\n    return () => (\r\n      <i\r\n        class={iconName.value}\r\n        onClick={e => emit(\"click\", e)}\r\n        style={{\r\n          color: props.color,\r\n          '--icon-size': props.size,\r\n          lineHeight: \"inherit\"\r\n        }}\r\n      />\r\n    );\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport type { PropType } from \"vue\";\r\nimport type { BtnTypes, BtnSizes, BtnShapes } from \"./types\";\r\nimport { useBtn, useRipple,useStyle } from \"./hooks/useBtn\";\r\nimport \"./styles/btn.scss\";\r\nimport MIcon from \"../MIcon\";\r\n\r\nfunction Loading(marginRight: Boolean) {\r\n  return (\r\n    <span\r\n      class=\"m-button-loading-icon-wrapper\"\r\n      style={{ marginRight: marginRight ? \"8px\" : 0 }}>\r\n      <svg\r\n        viewBox=\"0 0 1024 1024\"\r\n        width=\"1em\"\r\n        height=\"1em\"\r\n        class=\"m-button-icon-loading\">\r\n        <path\r\n          d=\"M980.752 313.697c-25.789-60.972-62.702-115.725-109.713-162.736-47.012-47.011-101.764-83.924-162.736-109.713C645.161 14.542 578.106 1 509 1c-2.242 0-4.48 0.015-6.715 0.043-16.567 0.211-29.826 13.812-29.615 30.38 0.209 16.438 13.599 29.618 29.99 29.618l0.39-0.002c1.98-0.026 3.963-0.039 5.95-0.039 61.033 0 120.224 11.947 175.93 35.508 53.82 22.764 102.162 55.359 143.683 96.879s74.115 89.862 96.88 143.683C949.054 392.776 961 451.967 961 513c0 16.568 13.432 30 30 30s30-13.432 30-30c0-69.106-13.541-136.162-40.248-199.303z\"\r\n          fill=\"currentColor\"></path>\r\n      </svg>\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"MButton\",\r\n  props: {\r\n    type: {\r\n      type: String as PropType<BtnTypes>,\r\n      default: \"default\"\r\n    },\r\n    size: String as PropType<BtnSizes>,\r\n    shape: { type: String as PropType<BtnShapes>, default: \"\" },\r\n    disabled: Boolean,\r\n    loading: Boolean,\r\n    light: Boolean,\r\n    leftIcon: String,\r\n    rightIcon: String,\r\n    block: { type: Boolean, default: false }\r\n  },\r\n  emits: [\"click\", \"focus\", \"blur\"],\r\n  setup(props, { slots, emit }) {\r\n    const { btnClass, contentShow, btnRef,btnSize } = useBtn(props);\r\n    const { rippleRef, setRipple } = useRipple(props, btnRef);\r\n    const { styles } = useStyle(props,btnSize)\r\n\r\n    function onChangeByType(e: Event, type: \"click\" | \"focus\" | \"blur\") {\r\n      e.preventDefault();\r\n      if (props.loading || props.disabled) return;\r\n      emit(type, e);\r\n    }\r\n\r\n    return () => {\r\n      // left icon and right icon slot\r\n      const leftIcon = slots.leftIcon ? (\r\n        slots.leftIcon()\r\n      ) : props.leftIcon ? (\r\n        <MIcon name={props.leftIcon} />\r\n      ) : (\r\n        \"\"\r\n      );\r\n      const rightIcon = slots.rightIcon ? (\r\n        slots.rightIcon()\r\n      ) : props.rightIcon ? (\r\n        <MIcon name={props.rightIcon} />\r\n      ) : (\r\n        \"\"\r\n      );\r\n\r\n      // main button\r\n      return (\r\n        <button\r\n          class={btnClass.value}\r\n          onMousedown={setRipple}\r\n          ref={btnRef}\r\n          style={styles.value}\r\n          data-light={props.light ? \"on\" : \"off\"}\r\n          onClick={e => onChangeByType(e, \"click\")}\r\n          onFocus={e => onChangeByType(e, \"focus\")}\r\n          onBlur={e => onChangeByType(e, \"blur\")}>\r\n          {!props.loading && !props.disabled && (\r\n            <div class=\"m-button-ripple-wrapper\" ref={rippleRef} />\r\n          )}\r\n          <span class=\"m-button-main\">\r\n            {props.loading && Loading(contentShow.value)}\r\n            {contentShow.value && (\r\n              <>\r\n                {leftIcon && <span class=\"m-button-icon-left\">{leftIcon}</span>}\r\n                {slots.default && slots.default()}\r\n                {rightIcon && (\r\n                  <span class=\"m-button-icon-right\">{rightIcon}</span>\r\n                )}\r\n              </>\r\n            )}\r\n          </span>\r\n        </button>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent, computed } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MSpace\",\r\n  props: {\r\n    size: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    direction: {\r\n      type: String, // dec 'horizontal' | 'vertical'\r\n      default: \"horizontal\"\r\n    },\r\n    alignItems: { type: String, default: \"flex-start\" }\r\n  },\r\n  setup(props, { slots }) {\r\n    const layoutClass = computed(() =>\r\n      props.direction === \"horizontal\"\r\n        ? \"m-space-horizontal\"\r\n        : \"m-space-vertical\"\r\n    );\r\n    return () => {\r\n      const defaultItems = slots.default ? slots.default() : [];\r\n      return (\r\n        <div\r\n          class={[\"m-space\", layoutClass.value]}\r\n          style={{\r\n            \"--size\": props.size || \"\",\r\n            \"align-items\": props.alignItems || \"\"\r\n          }}>\r\n          {defaultItems?.map((item, index) => {\r\n            return (\r\n              <div class=\"m-space-item\" key={index}>\r\n                {item}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDivider\",\r\n  props: {\r\n    direction: {\r\n      type: String,\r\n      default: \"horizontal\", // horizontal | vertical \r\n    },\r\n    color: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"12px\"\r\n    },\r\n    borderStyle:{\r\n      type:String,\r\n      default:\"solid\"\r\n    }\r\n  },\r\n\r\n  setup(props) {\r\n    return () => (\r\n      <div\r\n        style={{ \"--color\": props.color, \"--size\": props.size,\"--border-style\":props.borderStyle }}\r\n        class={{\r\n          \"m-divider\": true,\r\n          \"m-divider-horizontal\": props.direction === \"horizontal\",\r\n          \"m-divider-vertical\": props.direction === \"vertical\"\r\n        }} />\r\n    );\r\n  }\r\n});\r\n","import { defineComponent, inject } from \"vue\";\r\nimport { providerKey } from \"@/mostify/utils/constants\";\r\n\r\nexport default defineComponent({\r\n  name: \"MAnchor\",\r\n  props: {\r\n    getTarget: {\r\n      type: Function,\r\n      default: () => window,\r\n    },\r\n  },\r\n  setup(_, { slots }) {\r\n    const injectData = inject(providerKey);\r\n\r\n    console.log(injectData, \"injectData\");\r\n\r\n    return () => <div>{slots.default && slots.default()}</div>;\r\n  },\r\n});\r\n","import { defineComponent } from \"vue\";\r\nexport default defineComponent({\r\n  name: \"MConfigProvider\",\r\n  props: {\r\n    locale: {\r\n      type: String,\r\n      default: \"zh-CN\"\r\n    },\r\n    size: {\r\n      type: String,\r\n      default: \"small\",\r\n      validator: (v: string) => [\"small\", \"mini\", \"large\"].includes(v)\r\n    }\r\n  },\r\n\r\n  setup(props, { slots }) {\r\n    console.log(props);\r\n    \r\n    return () => <>{slots.default && slots.default()}</>;\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport \"./styles/index.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MBreadcrumb\",\r\n  props: {\r\n    separator: {\r\n      type: String,\r\n      default: \"/\"\r\n    }\r\n  },\r\n  setup(props, { slots }) {\r\n    const defaultSlots = slots.default?.();\r\n    const separator = slots.separator ? slots.separator?.() : props.separator;\r\n\r\n    return () => (\r\n      <div class=\"m-breadcrumb\">\r\n        {defaultSlots?.map((item, index) => (\r\n          <>\r\n            {item}\r\n            {index >= 0 && index < defaultSlots.length - 1 && (\r\n              <span class=\"m-breadcrumb-separator\">{separator}</span>\r\n            )}\r\n          </>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport \"./styles/item.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MBreadcrumbItem\",\r\n  props: {\r\n    label: { type: String, default: \"\" },\r\n    disabled: { type: Boolean, default: false },\r\n    href: { type: String, default: \"\" },\r\n    target: { type: String, default: \"_blank\" }\r\n  },\r\n  setup(props, { slots }) {\r\n    const label = slots?.default ? slots.default() : props.label;\r\n    return () =>\r\n      props.href && !props.disabled ? (\r\n        <a\r\n          class=\"m-breadcrumb-item m-breadcrumb-link\"\r\n          data-disabled={props.disabled}\r\n          href={props.href}\r\n          target={props.target}>\r\n          {label}\r\n        </a>\r\n      ) : (\r\n        <span class=\"m-breadcrumb-item\" data-disabled={props.disabled}>\r\n          {label}\r\n        </span>\r\n      );\r\n  }\r\n});\r\n","// 判断是否存在需要隐藏滚动条的元素\r\nexport const updateBodyScroll = (attr = 'm-dialog[data-active=\"true\"]') => {\r\n  const flag = document.querySelectorAll(attr).length > 0\r\n  if (flag) {\r\n    document.body.setAttribute('data-overflow', 'hidden')\r\n    document.documentElement.dataset.overflow = 'hidden'\r\n  } else {\r\n    document.body.setAttribute('data-overflow', 'auto')\r\n    document.documentElement.dataset.overflow = 'auto'\r\n  }\r\n}\r\n\r\n// 获取节点当前坐标大小\r\nexport const getNodeRect = (node: HTMLElement | Element | null): DOMRect | null => {\r\n  return node ? node.getBoundingClientRect() : null\r\n};\r\n\r\n// 判断两个节点是否是同一个节点或者是子节点\r\nexport const isSameOrChildNode = (parent: HTMLElement, child: HTMLElement): boolean => {\r\n  if (!parent || !child) return false\r\n  if (parent === child) return true;\r\n  if (parent.contains && parent.contains(child)) return true;\r\n\r\n  return false\r\n}\r\n\r\n// 结束节点的动画\r\nexport const endAnimation = (node: HTMLElement) => {\r\n  return new Promise((resolve) => {\r\n    if (!node) return resolve(false)\r\n    node?.getAnimations()?.forEach((animation) => {\r\n      animation.cancel()\r\n    });\r\n    resolve(true)\r\n  })\r\n}\r\n\r\n// 判断节点是否动画结束\r\nexport const getAnimateEnd = (node: HTMLElement) => {\r\n  return new Promise((resolve) => {\r\n    if (!node) return null\r\n    Promise.all(\r\n      node.getAnimations({ subtree: true }).map((animation) => animation.finished),\r\n    ).then(() => {\r\n      resolve(true)\r\n    }).catch(() => {\r\n      resolve(false)\r\n    })\r\n  })\r\n}\r\n\r\n// 设置动画\r\nexport const animate = (node: HTMLElement, keyframes: Keyframe[] | PropertyIndexedKeyframes | null, options: number | KeyframeAnimationOptions, delay = 0) => {\r\n  return new Promise(async (resolve, reject) => {\r\n    if (!node) return reject('node is null')\r\n    // 移除所有动画\r\n    await endAnimation(node)\r\n    node.animate(keyframes, options)\r\n    const time: number | string | CSSNumericValue = typeof options === 'number' ? options : (options?.duration || null)\r\n    if (time !== null && time !== undefined && Number(time) >= 0) {\r\n      setTimeout(() => {\r\n        resolve(true)\r\n      }, Number(time) - delay)\r\n    } else {\r\n      resolve(true)\r\n    }\r\n  })\r\n}\r\n\r\n\r\n// 设置样式\r\nexport const setDomStyleByObj = (node: HTMLElement, obj: { [key: string]: any }) => {\r\n  if (!node || !obj) return false;\r\n  node.setAttribute('style', Object.keys(obj).map((key) => `${key}:${obj[key]}`).join(';'))\r\n}","import { animate } from \"@/mostify/utils/dom\";\r\n\r\nconst showTime = 200;\r\nconst hideTime = 200;\r\n\r\nexport default {\r\n  hideTime,\r\n  showTime,\r\n  bgShow: async (el: HTMLElement | null) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { transform: \"scaleY(0.8)\", offset: 0 },\r\n        { transform: \"scaleY(1)\", offset: 0.33 },\r\n        {transform: \"scaleY(1)\", offset: 1},\r\n      ],\r\n      { duration: showTime }\r\n    ).catch(() => { });\r\n  },\r\n  cShow: async (el: HTMLElement | null) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { offset: 0, opacity: 0 },\r\n        { offset: 0.33, opacity: 0 },\r\n        { offset: 1, opacity: 1 },\r\n      ],\r\n      { duration: showTime }\r\n    ).catch(() => { });\r\n  },\r\n  bgHide: async (el) => {\r\n    await animate(\r\n      el,\r\n      [\r\n        { opacity: 1, offset: 0 },\r\n        { opacity: 0.66, offset: 0.33 },\r\n        { opacity: 0, transform: \"scaleY(0.8)\", offset: 1 },\r\n      ],\r\n      { duration: hideTime }\r\n    ).catch(() => { });\r\n  },\r\n  async cHide(el: HTMLElement | null) {\r\n    await animate(\r\n      el,\r\n      [\r\n        { offset: 0, opacity: 1 },\r\n        { offset: 0.33, opacity: 0 },\r\n        { offset: 1, opacity: 0 },\r\n      ],\r\n      { duration: hideTime }\r\n    ).catch(() => { });\r\n  },\r\n};\r\n","// 延迟执行\r\nexport const delay = (time: number) =>\r\n  new Promise(resolve => setTimeout(resolve, time));\r\n\r\n// 等待渲染\r\nexport const delayRender = () =>\r\n  new Promise(resolve => requestAnimationFrame(resolve));\r\n\r\n// 是否是数组\r\nexport const isArray = (val: any) => Array.isArray(val);\r\n\r\nconst addOrSubtract = (a: number, b: number, isAdd = true) => {\r\n  const getLen = val => {\r\n    const arr = val.toString().split(\".\");\r\n    return arr[1] ? arr[1].length : 0;\r\n  };\r\n  const fixedLen = Math.max(getLen(a), getLen(b));\r\n  return parseFloat((isAdd ? a + b : a - b).toFixed(fixedLen));\r\n};\r\n\r\n// 两个数相加\r\nexport const add = (a: number, b: number): number => addOrSubtract(a, b, true);\r\n\r\n// 两个数相减\r\nexport const subtract = (a: number, b: number): number =>\r\n  addOrSubtract(a, b, false);\r\n","function getPlacement(placement, rect, cRect) {\r\n  // 获取浏览器窗口的宽度\r\n  var windowWidth = window.innerWidth;\r\n  // 获取浏览器窗口的高度\r\n  var windowHeight = window.innerHeight;\r\n\r\n  // 是否可以显示在上方\r\n  var canShowOnTop = rect.top > cRect?.height;\r\n  // 是否可以显示在下方\r\n  var canShowOnBottom = windowHeight - (rect?.top + cRect?.height) > 0;\r\n  // 是否可以显示在左边\r\n  var canShowOnLeft = rect.left > cRect.width;\r\n  // 是否可以显示在右边\r\n  var canShowOnRight = windowWidth - (rect.left + cRect.width) > 0;\r\n\r\n  if (canShowOnTop && canShowOnBottom && canShowOnLeft && canShowOnRight) return placement;\r\n  console.log(canShowOnTop,'canShowOnTop');\r\n  \r\n  if (canShowOnBottom) {\r\n    if (canShowOnLeft && canShowOnRight) {\r\n      return ['bottomRight', 'bottomLeft', 'bottom'].includes(placement) ? placement : 'bottomLeft'\r\n    } else if (canShowOnLeft) {\r\n      return 'bottomRight'\r\n    } else {\r\n      return 'bottomLeft'\r\n    }\r\n  } else {\r\n    if (canShowOnLeft && canShowOnRight) {\r\n      return ['topLeft', 'topRight', 'top'].includes(placement) ? placement : 'topLeft'\r\n    } else if (canShowOnLeft) {\r\n      return 'topLeft'\r\n    } else {\r\n      return 'topRight'\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function getRect(placement, rect, cRect) {\r\n  const st_px = document.documentElement.scrollTop\r\n  const key = getPlacement(placement, rect, cRect)\r\n\r\n  switch (key) {\r\n    case 'bottomRight':\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left + rect.width - cRect.width}`\r\n      }\r\n\r\n    case 'bottom':\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left + rect.width / 2 - cRect.width / 2}`\r\n      }\r\n\r\n    default:\r\n      return {\r\n        top: `${rect.top + rect.height + st_px}`,\r\n        left: `${rect.left}`\r\n      }\r\n  }\r\n}","import {\r\n  defineComponent,\r\n  PropType,\r\n  ref,\r\n  Teleport,\r\n  onMounted,\r\n  onUnmounted,\r\n  computed,\r\n  onBeforeMount,\r\n  reactive,\r\n  watch\r\n} from \"vue\";\r\nimport { PlacementType } from \"@/mostify/types/types\";\r\nimport \"./style.scss\";\r\nimport { getNodeRect, isSameOrChildNode,getAnimateEnd } from \"@/mostify/utils/dom\";\r\nimport animateOption from \"./animateOption\";\r\nimport { delay } from \"@/mostify/utils/common\";\r\nimport { getRect } from \"./getRect\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDropdown\",\r\n  props: {\r\n    placement: {\r\n      type: String as PropType<PlacementType>,\r\n      default: \"bottomLeft\"\r\n    },\r\n    trigger: {\r\n      type: String,\r\n      default: \"click\",\r\n      validator: (value: string) => [\"hover\", \"click\"].includes(value)\r\n    },\r\n    // 隐藏是否销毁\r\n    destroyOnHide: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabled: Boolean,\r\n    open: { type: Boolean, default: false },\r\n    toBody: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  setup(props, { slots }) {\r\n    const triggerRef = ref<HTMLElement>(null);\r\n    const dropdownContentRef = ref<HTMLElement>(null);\r\n    const bodyRef = ref<HTMLElement>(null);\r\n    const show = ref(false);\r\n    const state = reactive({\r\n      top: \"0\",\r\n      left: \"0\",\r\n      waitChange: false,\r\n      renderToDom: null\r\n    });\r\n    const hideState = ref(false);\r\n    let timer = null;\r\n    const isShow = computed(() => {\r\n      return props.destroyOnHide ? show.value : true;\r\n    });\r\n    let trigger: HTMLElement | Element | null = null;\r\n\r\n    watch(\r\n      () => props.trigger,\r\n      () => {\r\n        unBindEvent();\r\n        bindEvent();\r\n      }\r\n    );\r\n\r\n    /**\r\n     * 处理点击事件 --- start ---\r\n     */\r\n\r\n    /**\r\n     * 处理点击事件 --- end ---\r\n     */\r\n\r\n    function renderRect() {\r\n      const rect = getNodeRect(trigger);\r\n      const cRect = getNodeRect(bodyRef.value);\r\n      const { top, left } = getRect(props.placement, rect, cRect);\r\n      state.top = `${top}px`;\r\n      state.left = `${left}px`;\r\n      dropdownContentRef.value.style.minWidth = `${rect.width}px`;\r\n    }\r\n\r\n    function scrollListenHandle() {\r\n      if (isShow.value) {\r\n        renderRect();\r\n      }\r\n    }\r\n\r\n    // 注册显示事件\r\n    async function showDropdown() {\r\n      show.value = true;\r\n      hideState.value = true;\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n      // 设置不可触发事件\r\n      state.waitChange = true;\r\n      await new Promise(resolve => requestAnimationFrame(resolve));\r\n      renderRect();\r\n      window.addEventListener(\"scroll\", scrollListenHandle, false);\r\n      // 执行动画\r\n      animateOption.cShow(bodyRef.value);\r\n      animateOption.bgShow(dropdownContentRef.value);\r\n      // 等待执行完成后\r\n      await getAnimateEnd(bodyRef.value).catch(() => {});\r\n      state.waitChange = false;\r\n    }\r\n    function handleClickHandle() {\r\n      if (state.waitChange || props.disabled) return;\r\n      let value = !show.value;\r\n\r\n      if (value) {\r\n        showDropdown();\r\n      } else {\r\n        hideDropdown();\r\n      }\r\n    }\r\n\r\n    function triggerMouseEnter() {\r\n      if (state.waitChange || props.disabled || show.value) return;\r\n      showDropdown();\r\n    }\r\n    function hideDropdown() {\r\n      if (state.waitChange) return;\r\n      if (hideState.value) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n      }\r\n      hideState.value = true;\r\n\r\n      timer = setTimeout(async () => {\r\n        if (hideState.value) {\r\n          state.waitChange = true;\r\n          animateOption.cHide(bodyRef.value);\r\n          animateOption.bgHide(dropdownContentRef.value);\r\n          await delay(0);\r\n          await getAnimateEnd(bodyRef.value).catch(() => {});\r\n          window.removeEventListener(\"scroll\", scrollListenHandle, false);\r\n          show.value = false;\r\n          state.waitChange = false;\r\n        }\r\n      }, 60);\r\n    }\r\n    function clickHideListenHandle(e) {\r\n      const el = e.target;\r\n      if (!el) return;\r\n      if (isSameOrChildNode(triggerRef.value, el)) return;\r\n      hideDropdown();\r\n    }\r\n    function onContentMouseEnter() {\r\n      hideState.value = true;\r\n      if (timer) {\r\n        clearTimeout(timer);\r\n        timer = null;\r\n        show.value = true;\r\n      } else {\r\n        hideState.value = false;\r\n        show.value = true;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * 事件注册和解绑 -- start ---\r\n     */\r\n    function bindEvent() {\r\n      window.addEventListener(\"click\", clickHideListenHandle, true);\r\n      if (props.trigger === \"click\") {\r\n        trigger?.addEventListener(\"click\", handleClickHandle, false);\r\n      } else {\r\n        trigger?.addEventListener(\"mouseenter\", triggerMouseEnter, false);\r\n        trigger?.addEventListener(\"mouseleave\", hideDropdown, false);\r\n        dropdownContentRef.value?.addEventListener(\r\n          \"mouseenter\",\r\n          onContentMouseEnter,\r\n          false\r\n        );\r\n        dropdownContentRef.value?.addEventListener(\r\n          \"mouseleave\",\r\n          hideDropdown,\r\n          false\r\n        );\r\n      }\r\n    }\r\n    // 销毁事件\r\n    function unBindEvent() {\r\n      trigger?.removeEventListener(\"click\", handleClickHandle, false);\r\n      window.removeEventListener(\"click\", clickHideListenHandle, false);\r\n\r\n      trigger?.removeEventListener(\"mouseenter\", triggerMouseEnter, false);\r\n      trigger?.removeEventListener(\"mouseleave\", hideDropdown, false);\r\n\r\n      dropdownContentRef.value?.removeEventListener(\r\n        \"mouseenter\",\r\n        onContentMouseEnter,\r\n        false\r\n      );\r\n      dropdownContentRef.value?.removeEventListener(\r\n        \"mouseleave\",\r\n        hideDropdown,\r\n        false\r\n      );\r\n    }\r\n\r\n    /**\r\n     * 事件注册和解绑 -- end ---\r\n     */\r\n\r\n    onBeforeMount(() => {\r\n      if (!document.querySelector(\"#m-inset__body\")) {\r\n        const insetBody = document.createElement(\"div\");\r\n        insetBody.setAttribute(\"id\", \"m-inset__body\");\r\n        document.querySelector(\"body\")?.appendChild(insetBody);\r\n      }\r\n    });\r\n    onMounted(() => {\r\n      if (triggerRef.value.children?.length === 1) {\r\n        trigger = triggerRef.value.children[0] || null;\r\n      } else {\r\n        trigger = triggerRef.value || null;\r\n      }\r\n      bindEvent();\r\n    });\r\n\r\n    onUnmounted(() => {\r\n      unBindEvent();\r\n    });\r\n\r\n    return () => {\r\n      console.log(slots.content());\r\n      return (\r\n        <div>\r\n          <div\r\n            class=\"m-dropdown\"\r\n            ref={triggerRef}\r\n            style={{ \"pointer-events\": state.waitChange ? \"none\" : \"all\" }}>\r\n            {slots.default && slots.default()}\r\n          </div>\r\n\r\n          <Teleport to={\"#m-inset__body\"}>\r\n            {isShow.value && (\r\n              <div\r\n                class=\"m-dropdown__content m-box-shadow\"\r\n                v-show={show.value}\r\n                ref={dropdownContentRef}\r\n                style={{\r\n                  \"--top\": state.top,\r\n                  \"--left\": state.left,\r\n                  \"pointer-events\": state.waitChange ? \"none\" : \"all\"\r\n                }}>\r\n                <div class=\"m-dropdown__body\" ref={bodyRef}>\r\n                  {slots.content &&\r\n                    slots.content()?.map(item => {\r\n                      item.props = { ...item.props };\r\n                      return item;\r\n                    })}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </Teleport>\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent, provide, type PropType } from \"vue\";\r\nimport useProvider from \"@/mostify/hooks/useProvider\";\r\nimport { providerKey } from \"@/mostify/utils/constants\";\r\nimport { type SizeType } from \"@/mostify/types/types\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MButtonGroup\",\r\n  props: {\r\n    direction: {\r\n      type: String,\r\n      default: \"horizontal\" // vertical | horizontal\r\n    },\r\n    size: String as PropType<SizeType>\r\n  },\r\n  setup(props, { slots }) {\r\n    const { size, zIndex } = useProvider();\r\n    // 提供给子组件使用，更新size和zIndex值\r\n    provide(providerKey, { size: props.size || size, zIndex });\r\n    return () => {\r\n      const defaultSlot = slots.default?.();\r\n\r\n      return (\r\n        <div\r\n          class={[\r\n            \"m-button-group\",\r\n            props.direction === \"vertical\"\r\n              ? \"m-button-vertical\"\r\n              : \"m-button-horizontal\"\r\n          ]}>\r\n          {defaultSlot}\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport \"./style.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MMenuItem\",\r\n  props: {\r\n    disabled: Boolean,\r\n    label: String\r\n  },\r\n  emits: [\"click\"],\r\n  setup(props, { slots, emit }) {\r\n    function handleClick(e: MouseEvent) {\r\n      if (props.disabled) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        return;\r\n      }\r\n      emit(\"click\", e);\r\n    }\r\n    return () => (\r\n      <div\r\n        class={[\"m-menu__item\", props.disabled ? \"is__disabled\" : \"\"]}\r\n        data-disabled={props.disabled}\r\n        aria-disabled={props.disabled}\r\n        onClick={handleClick}>\r\n        {(slots.default && slots.default()) || props.label}\r\n      </div>\r\n    );\r\n  }\r\n});\r\n","import { defineComponent, Transition } from \"vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"MTransition\",\r\n  props: {\r\n    onEnter: Function,\r\n    onLeave: Function\r\n  },\r\n  setup(props, ctx) {\r\n    return () => {\r\n      const vNodes = ctx.slots.default && ctx.slots.default();\r\n      return (\r\n        <Transition\r\n          appear={false}\r\n          onEnter={(el: Element, done: () => void) => props.onEnter?.(el, done)}\r\n          onLeave={(el: Element, done: () => void) => props.onLeave?.(el, done)}\r\n          css={false}>\r\n          {vNodes}\r\n        </Transition>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { animate } from \"@/mostify/utils/dom\";\r\n\r\nexport const dialogAnimationShow = async ({ mask, content, wrapper }) => {\r\n   animate(mask, [{ opacity: 0 }, { opacity: 1 }], 120);\r\n  animate(\r\n    wrapper,\r\n    [\r\n      { transform: \"scale(0.33)\", offset: 0, opacity: 0.66 },\r\n      { transform: \"scale(1)\", offset: 0.33, opacity: 1 },\r\n      { transform: \"scale(1)\", offset: 1, opacity: 1 },\r\n    ],\r\n    {\r\n      duration: 500,\r\n    }\r\n  );\r\n  await animate(\r\n    content,\r\n    [\r\n      { opacity: 0, offset: 0 },\r\n      { opacity: 0.25, offset: 0.35 },\r\n      { opacity: 1, offset: 1 }\r\n    ],\r\n    {\r\n      duration: 500,\r\n    }\r\n  );\r\n}\r\n\r\nexport const dialogAnimationHide = async ({ mask, wrapper, content }) => {\r\n  animate(mask, [{ opacity: 1 }, { opacity: 0 }], {\r\n    duration: 240\r\n  });\r\n  animate(\r\n    content,\r\n    [\r\n      { opacity: 1, offset: 0 },\r\n      { opacity: 0, offset: 0.2, },\r\n      { opacity: 0, offset: 1}\r\n    ],\r\n    {\r\n      duration: 240,\r\n    }\r\n  );\r\n  await animate(\r\n    wrapper,\r\n    [\r\n      { opacity: 1, offset: 0 },\r\n      { opacity: 0.88, offset: 0.33 },\r\n      { opacity: 0, offset: 1, transform: \"scale(0.33)\" }\r\n    ],\r\n    {\r\n      duration: 240,\r\n    },\r\n    20\r\n  );\r\n}\r\n\r\n// 当前弹窗在最前面\r\nexport const dialogAnimationShowTop = (target: HTMLElement | null) => {\r\n  if (!target) return false\r\n  const allDialogs = document.querySelectorAll(\".m-dialog[data-show='true']\");\r\n\r\n  if (allDialogs.length > 0) {\r\n    const last = allDialogs[allDialogs.length - 1];\r\n    return last === target\r\n  }\r\n\r\n  return false\r\n}\r\n","import \"./styles/dialog.scss\";\r\nimport { defineComponent, Teleport } from \"vue\";\r\nimport type { PropType } from \"vue\";\r\nimport MTransition from \"@/mostify/components/MTransition\";\r\nimport { MButton } from \"@/mostify/components\";\r\nimport { useDialogRef, useDialogStyle } from \"./hooks\";\r\nimport {\r\n  dialogAnimationHide,\r\n  dialogAnimationShow,\r\n  dialogAnimationShowTop\r\n} from \"./utils/dialogAnimation\";\r\nimport { updateBodyScroll } from \"@/mostify/utils/dom\";\r\n\r\nexport default defineComponent({\r\n  name: \"MDialog\",\r\n  components: { MButton },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    content: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    className: String,\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    cancelBtnText: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    okBtnText: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    okBtnProps: {\r\n      type: Object,\r\n      default: () => ({ type: \"primary\" })\r\n    },\r\n    cancelBtnProps: {\r\n      type: Object,\r\n      default: () => ({ type: \"default\" })\r\n    },\r\n    width: {\r\n      type: [Number, String] as PropType<number | string>,\r\n      default: \"50%\"\r\n    },\r\n    height: {\r\n      type: [Number, String] as PropType<number | string>,\r\n      default: \"auto\"\r\n    },\r\n    showClose: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    maskBackgroundColor: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    fullscreen: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    escHide: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    maskHide: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    target: {\r\n      type: [String],\r\n      default: \"body\"\r\n    },\r\n    top: { type: String, default: \"center\" },\r\n    _onClose: Function\r\n  },\r\n  emits: [\"close\"],\r\n  setup(props, ctx) {\r\n    const { wrapperRef, bodyRef, maskRef, dialogRef } = useDialogRef();\r\n    const { contentStyle, wrapperStyle, bodyStyle } = useDialogStyle(props);\r\n    const onVisibleHide = (type: string) => {\r\n      props._onClose && props._onClose?.(type);\r\n      ctx.emit(\"close\", type);\r\n    };\r\n    const onHandleEscHideEvent = e => {\r\n      if (\r\n        (e.code === \"Escape\" || e.keyCode === 27 || e.key === \"Escape\") &&\r\n        props.escHide &&\r\n        dialogAnimationShowTop(dialogRef.value)\r\n      ) {\r\n        ctx.emit(\"close\", { type: \"cancel\" });\r\n      }\r\n    };\r\n    const onEnter = async (_, done) => {\r\n      await new Promise(resolve => requestAnimationFrame(resolve));\r\n      const transformOrigin = \"center\";\r\n\r\n      wrapperRef.value.style.setProperty(\"transform-origin\", transformOrigin);\r\n      bodyRef.value.style.setProperty(\"transform-origin\", transformOrigin);\r\n      updateBodyScroll('.m-dialog[data-show=\"true\"]');\r\n      await dialogAnimationShow({\r\n        mask: maskRef.value,\r\n        content: bodyRef.value,\r\n        wrapper: wrapperRef.value\r\n      });\r\n      props.escHide && document.addEventListener(\"keyup\", onHandleEscHideEvent);\r\n      done();\r\n    };\r\n    const onLeave = async (_, done) => {\r\n      await dialogAnimationHide({\r\n        mask: maskRef.value,\r\n        content: bodyRef.value,\r\n        wrapper: wrapperRef.value\r\n      });\r\n      updateBodyScroll('.m-dialog[data-show=\"true\"]');\r\n      document.removeEventListener(\"keyup\", onHandleEscHideEvent);\r\n      done();\r\n    };\r\n\r\n    return () => {\r\n      // slots content slots footer slots header\r\n      const defaultSlot = ctx.slots.default?.();\r\n      const footerSlot = ctx.slots.footer?.();\r\n      const headerSlot = ctx.slots.header?.();\r\n      const bodySlot = ctx.slots.body?.();\r\n\r\n      // render dom\r\n      return (\r\n        <Teleport to={props.target}>\r\n          <MTransition onEnter={onEnter} onLeave={onLeave}>\r\n            <div\r\n              class={`m-dialog ${props.className || \"\"}`}\r\n              v-show={props.visible}\r\n              data-show={props.visible}\r\n              ref={dialogRef}\r\n              style={{\r\n                \"--m-dialog-mask-color\": props.maskBackgroundColor\r\n              }}>\r\n              <section class=\"m-dialog-mask\" ref={maskRef} />\r\n              <div\r\n                class=\"m-dialog-container\"\r\n                onClick={() => props.maskHide && onVisibleHide(\"cancel\")}>\r\n                <div style={wrapperStyle.value}>\r\n                  <div class=\"m-dialog-cover\" style={contentStyle.value}>\r\n                    <div\r\n                      class=\"m-dialog-content\"\r\n                      onClick={e => e.stopPropagation()}>\r\n                      <div\r\n                        class=\"m-dialog-content__background\"\r\n                        ref={wrapperRef}\r\n                      />\r\n\r\n                      <section\r\n                        class=\"m-dialog-content__wrapper\"\r\n                        ref={bodyRef}\r\n                        style={bodyStyle.value}>\r\n                        {props.showClose && (\r\n                          <MButton\r\n                            type=\"text\"\r\n                            shape=\"square\"\r\n                            size=\"small\"\r\n                            class=\"m-dialog-content__close\"\r\n                            onClick={() => onVisibleHide(\"cancel\")}>\r\n                            <svg\r\n                              fill=\"currentColor\"\r\n                              class=\"icon\"\r\n                              viewBox=\"0 0 1024 1024\"\r\n                              version=\"1.1\"\r\n                              xmlns=\"http://www.w3.org/2000/svg\"\r\n                              p-id=\"5090\"\r\n                              width=\"28\"\r\n                              height=\"28\">\r\n                              <path d=\"M504.224 470.288l207.84-207.84a16 16 0 0 1 22.608 0l11.328 11.328a16 16 0 0 1 0 22.624l-207.84 207.824 207.84 207.84a16 16 0 0 1 0 22.608l-11.328 11.328a16 16 0 0 1-22.624 0l-207.824-207.84-207.84 207.84a16 16 0 0 1-22.608 0l-11.328-11.328a16 16 0 0 1 0-22.624l207.84-207.824-207.84-207.84a16 16 0 0 1 0-22.608l11.328-11.328a16 16 0 0 1 22.624 0l207.824 207.84z\"></path>\r\n                            </svg>\r\n                          </MButton>\r\n                        )}\r\n\r\n                        {headerSlot\r\n                          ? headerSlot\r\n                          : props.title && (\r\n                              <header class=\"m-dialog__header\">\r\n                                <span class=\"m-dialog-title\">\r\n                                  {props.title}\r\n                                </span>\r\n                              </header>\r\n                            )}\r\n\r\n                        {bodySlot ? (\r\n                          bodySlot\r\n                        ) : (\r\n                          <main class=\"m-dialog__body\">\r\n                            {defaultSlot || props.content}\r\n                          </main>\r\n                        )}\r\n\r\n                        {footerSlot\r\n                          ? footerSlot\r\n                          : (props.cancelBtnText || props.okBtnText) && (\r\n                              <footer class=\"m-dialog__footer\">\r\n                                {props.cancelBtnText && (\r\n                                  <MButton\r\n                                    {...props.cancelBtnProps}\r\n                                    onClick={() => onVisibleHide(\"cancel\")}>\r\n                                    {props.cancelBtnText}\r\n                                  </MButton>\r\n                                )}\r\n                                {props.okBtnText && (\r\n                                  <MButton\r\n                                    {...props.okBtnProps}\r\n                                    onClick={() => onVisibleHide(\"ok\")}>\r\n                                    {props.okBtnText}\r\n                                  </MButton>\r\n                                )}\r\n                              </footer>\r\n                            )}\r\n                      </section>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </MTransition>\r\n        </Teleport>\r\n      );\r\n    };\r\n  }\r\n});\r\n","\r\nimport { ref, computed } from 'vue';\r\n\r\nexport const useDialogRef = () => {\r\n  const dialogRef = ref<HTMLElement | null>(null)\r\n  const wrapperRef = ref<HTMLElement | null>(null)\r\n  const maskRef = ref<HTMLElement | null>(null)\r\n  const bodyRef = ref<HTMLElement | null>(null)\r\n  return { dialogRef, wrapperRef, maskRef, bodyRef }\r\n}\r\n\r\nexport const useDialogStyle = (props) => {\r\n  const contentStyle = computed(() => {\r\n    const width = (typeof props.width === 'number' ? `${props.width}px` : props.width) || 'auto'\r\n    const height = (typeof props.height === 'number' ? `${props.height}px` : props.height) || 'auto'\r\n\r\n    if (props.fullscreen) {\r\n      return {\r\n        width: '100%',\r\n        padding: '0px',\r\n        margin: '0px',\r\n        height: '100%',\r\n      }\r\n    }\r\n    return {\r\n      width,\r\n      maxWidth: '100%',\r\n      height,\r\n      margin: `${props.top && props.top !== 'center' ? '0 auto' : '24px auto'}`,\r\n    }\r\n  })\r\n\r\n  const wrapperStyle = computed(() => {\r\n    if (props.fullscreen) {\r\n      return `width: 100%; height: 100%;`\r\n    } else if (props.top === 'center') {\r\n      return `display: flex; \r\n        align-items: center; \r\n        justify-content: center; \r\n        min-height: 100%;\r\n      `\r\n    }\r\n\r\n    return `position:relative;top: ${props.top};padding-bottom:24px;`\r\n  })\r\n\r\n  const bodyStyle = computed(() => {\r\n    return `width: 100%; height: 100%;  position: relative;insert: 0; overflow-y: auto;`\r\n  })\r\n  return { contentStyle, wrapperStyle, bodyStyle }\r\n} ","// 支持js打开弹窗\r\nimport MDialog from '../Dialog.tsx'\r\nimport { createApp } from 'vue'\r\nimport { dialogAnimationShow, dialogAnimationHide } from './dialogAnimation.ts'\r\n\r\ninterface DialogConfirmTypes {\r\n  title?: string\r\n  top?: string\r\n  width?: string\r\n  okBtnText: string\r\n  cancelBtnText?: string\r\n  okBtnProps?: Object\r\n  cancelBtnProps?: Object\r\n}\r\n\r\n// 支持配置的选项\r\nconst getDefaultOpt = (obj: DialogConfirmTypes) => {\r\n  const title = obj?.title || ''\r\n  const width = obj.width || 480\r\n  const top = obj?.top || 'center'\r\n  const data = {\r\n    onConfirm: () => { },\r\n    onCancel: () => { },\r\n    okBtnText: obj?.okBtnText || '确定',\r\n    cancelBtnText: obj?.cancelBtnText || '',\r\n    okBtnProps: obj?.okBtnProps,\r\n    cancelBtnProps: obj?.cancelBtnProps,\r\n    content: 'hello',\r\n    className: 'm-dialog-confirm',\r\n    title,\r\n    width,\r\n    top,\r\n    escHide: false,\r\n    maskHide: false,\r\n    showClose: false,\r\n    visible: true,\r\n  }\r\n  return data\r\n}\r\n\r\nconst createDialog = async (option) => {\r\n  const div = document.createElement('div')\r\n  document.body.appendChild(div)\r\n  let mask, content, wrapper\r\n  const app = createApp(MDialog, {\r\n    ...getDefaultOpt(option),\r\n    target: div,\r\n    _onClose: async (type: 'cancel' | 'ok') => {\r\n      if (type === 'cancel' && option.onCancel) {\r\n        option.onCancel?.();\r\n      } else if (type === 'ok' && option.onConfirm) {\r\n        option.onConfirm?.();\r\n      }\r\n      await dialogAnimationHide({ mask, wrapper, content })\r\n      app.unmount();\r\n      div.remove();\r\n    },\r\n  })\r\n  app.mount(div)\r\n  mask = div.querySelector('.m-dialog-mask') as HTMLElement\r\n  content = div.querySelector('.m-dialog-content__wrapper') as HTMLElement\r\n  wrapper = div.querySelector('.m-dialog-content__background') as HTMLElement\r\n  let transformOrigin = 'center'\r\n\r\n  wrapper.style.setProperty(\"transform-origin\", transformOrigin);\r\n  content.style.setProperty(\"transform-origin\", transformOrigin);\r\n  dialogAnimationShow({ mask, content, wrapper })\r\n}\r\n\r\nconst Dialog = Object.freeze({\r\n  open: (option = {}) => {\r\n    createDialog(Object.assign({}, option))\r\n  },\r\n  confirm: (option = {}) => {\r\n    createDialog(Object.assign({}, option, {\r\n      okBtnType: 'primary',\r\n      cancelBtnText: '取消',\r\n      cancelBtnProps: { type: 'default' }\r\n    }))\r\n  },\r\n})\r\n\r\nexport default Dialog","import { ref, watch, computed } from \"vue\";\r\nimport useProvider from \"@/mostify/hooks/useProvider\";\r\n\r\nexport const useValue = (props, emit) => {\r\n  const value = ref(props.modelValue || props.value);\r\n  const setValue = val => {\r\n    if (props.disabled || props.readonly) return;\r\n    value.value = val;\r\n    emit(\"update:modelValue\", val);\r\n    emit(\"change\", val);\r\n  };\r\n\r\n  watch(\r\n    () => props.modelValue,\r\n    val => {\r\n      value.value = val;\r\n    }\r\n  );\r\n\r\n  watch(\r\n    () => props.value,\r\n    val => {\r\n      value.value = val;\r\n    }\r\n  );\r\n\r\n  return { value, setValue };\r\n};\r\n\r\nexport const useClassNames = (props, isFocus) => {\r\n  const { size } = useProvider();\r\n  const classNames = computed(() => {\r\n    const sValue = props.size || size || \"small\";\r\n    const arr = [\"m-input\", `m-input-size-${sValue}`];\r\n    props.disabled && arr.push(\"is-disabled\");\r\n    props.readonly && arr.push(\"is-readonly\");\r\n    isFocus.value && arr.push(\"is-focus\");\r\n    return arr;\r\n  });\r\n\r\n  return {\r\n    classNames\r\n  };\r\n};\r\n\r\nexport const usePwd = props => {\r\n  const isOpenEye = ref(false);\r\n  const type = ref(props.type);\r\n  const toggleShowPwd = () => {\r\n    isOpenEye.value = !isOpenEye.value;\r\n    type.value = isOpenEye.value ? \"text\" : props.type;\r\n  };\r\n  const showPwdIcon = computed(() => {\r\n    return props.showPasswordIcon && props.type?.toLowerCase() === \"password\";\r\n  });\r\n\r\n  return {\r\n    type,\r\n    isOpenEye,\r\n    showPwdIcon,\r\n    toggleShowPwd\r\n  };\r\n};\r\n\r\nexport const useLimitCount = props => {\r\n  const showLimitCount = computed(() => {\r\n    return props.showLimitCount && props.maxlength;\r\n  });\r\n\r\n  return {\r\n    showLimitCount\r\n  };\r\n};\r\n\r\nexport const useTextarea = (props, showLimitCount, isFocus) => {\r\n  const classnames = computed(() => {\r\n    const arr = [\"m-textarea\"];\r\n\r\n    props.disabled && arr.push(\"is-disabled\");\r\n    props.readonly && arr.push(\"is-readonly\");\r\n    isFocus.value && arr.push(\"is-focus\");\r\n    showLimitCount.value && arr.push(\"is-limit\");\r\n    return arr;\r\n  });\r\n\r\n  return {\r\n    classnames\r\n  };\r\n};\r\n","import { ref } from \"vue\";\r\n\r\nexport const useFocus = (defaultValue?: boolean) => {\r\n  const domRef = ref<HTMLElement | null>(null);\r\n  const isFocus = ref(defaultValue || false);\r\n\r\n  const setIsFocus = (bol: boolean) => {\r\n    isFocus.value = bol;\r\n    if (bol) {\r\n      domRef.value?.focus();\r\n    } else {\r\n      domRef.value?.blur();\r\n    }\r\n  };\r\n\r\n  return {\r\n    domRef,\r\n    isFocus,\r\n    setIsFocus\r\n  };\r\n};\r\n","import { defineComponent, type PropType } from \"vue\";\r\nimport \"./styles/index.scss\";\r\nimport MIcon from \"../MIcon\";\r\nimport {\r\n  useValue,\r\n  useClassNames,\r\n  usePwd,\r\n  useLimitCount\r\n} from \"./hooks/useState\";\r\nimport { useFocus } from \"@/mostify/hooks/useFocus\";\r\nimport { SizeType } from \"@/mostify/types/types\";\r\n\r\nexport default defineComponent({\r\n  name: \"MInput\",\r\n  components: { MIcon },\r\n  props: {\r\n    value: [String, Number],\r\n    modelValue: [String, Number],\r\n    name: { type: String, default: \"\" },\r\n    placeholder: { type: String, default: \"\" },\r\n    type: { type: String, default: \"text\" },\r\n    size: String as PropType<SizeType>,\r\n    prefix: { type: String, default: \"\" },\r\n    suffix: { type: String, default: \"\" },\r\n    prepend: { type: String, default: \"\" },\r\n    append: { type: String, default: \"\" },\r\n    clearable: { type: Boolean, default: false },\r\n    disabled: { type: Boolean, default: false },\r\n    readonly: { type: Boolean, default: false },\r\n    width: { type: [String, Number], default: \"\" },\r\n    autofocus: { type: Boolean, default: false },\r\n    autocomplete: { type: String, default: \"off\" },\r\n    maxlength: { type: [String, Number], default: \"\" },\r\n    minlength: { type: [String, Number], default: \"\" },\r\n    max: { type: [String, Number], default: \"\" },\r\n    min: { type: [String, Number], default: \"\" },\r\n    step: { type: [String, Number], default: \"\" },\r\n    pattern: { type: String, default: \"\" },\r\n    showLimitCount: { type: Boolean, default: false },\r\n    showPasswordIcon: { type: Boolean, default: false },\r\n    tabindex: [Number, String]\r\n  },\r\n  // emits events\r\n  emits: [\"update:modelValue\", \"change\", \"focus\", \"blur\"],\r\n  // expose events\r\n  exposed: [\"focus\", \"blur\"],\r\n  setup(props, { emit, slots, expose }) {\r\n    // useInput hook\r\n    const { value, setValue } = useValue(props, emit);\r\n    const { domRef, isFocus, setIsFocus } = useFocus();\r\n    const { classNames } = useClassNames(props, isFocus);\r\n    const { type, showPwdIcon, isOpenEye, toggleShowPwd } = usePwd(props);\r\n    const { showLimitCount } = useLimitCount(props);\r\n    // expose focus and blur method to parent component\r\n    expose({ focus: () => setIsFocus(true), blur: () => setIsFocus(false) });\r\n    // render function\r\n    return () => {\r\n      const prefixSlot = slots?.prefix?.() || props.prefix;\r\n      const suffixSlot = slots?.suffix?.() || props.suffix;\r\n      const prependSlot = slots?.prepend?.() || props.prepend;\r\n      const appendSlot = slots?.append?.() || props.append;\r\n\r\n      const inputVNode = () => (\r\n        <div\r\n          onClick={() => setIsFocus(true)}\r\n          style={{ width: props.width }}\r\n          class={classNames.value}>\r\n          {prefixSlot && <div class=\"m-input-prefix\">{prefixSlot}</div>}\r\n          <input\r\n            class=\"m-input-base\"\r\n            ref={domRef}\r\n            type={type.value}\r\n            disabled={props.disabled}\r\n            tabindex={props.tabindex}\r\n            placeholder={props.placeholder}\r\n            readonly={props.readonly}\r\n            value={value.value}\r\n            autofocus={props.autofocus}\r\n            autocomplete={props.autocomplete}\r\n            maxlength={props.maxlength}\r\n            max={props.max}\r\n            min={props.min}\r\n            step={props.step}\r\n            minlength={props.minlength}\r\n            name={props.name}\r\n            onInput={(e: InputEvent) =>\r\n              setValue((e.target as HTMLInputElement)?.value)\r\n            }\r\n            onBlur={() => setIsFocus(false)}\r\n            onFocus={() => setIsFocus(true)}\r\n          />\r\n          {props.clearable && value.value && (\r\n            <span\r\n              class=\"m-input-suffix-icon-wrapper m-clearable\"\r\n              onClick={() => setValue(\"\")}>\r\n              <MIcon name=\"close-circle\" />\r\n            </span>\r\n          )}\r\n\r\n          {showPwdIcon.value && (\r\n            <span onClick={toggleShowPwd} class=\"m-input-suffix-icon-wrapper\">\r\n              <MIcon name={isOpenEye.value ? \"eye\" : \"eye-close\"} />\r\n            </span>\r\n          )}\r\n          {showLimitCount.value && (\r\n            <span class=\"m-input-limit-count\">\r\n              {`${value.value?.length || 0}/${props.maxlength}`}\r\n            </span>\r\n          )}\r\n          {suffixSlot && <div class=\"m-input-suffix\">{suffixSlot}</div>}\r\n        </div>\r\n      );\r\n\r\n      // 是否需要包裹prepend和append插槽\r\n      return prependSlot || appendSlot ? (\r\n        <div\r\n          style={{ width: props.width }}\r\n          class={{\r\n            [\"m-input-wrapper\"]: true,\r\n            [\"has-prepend\"]: prependSlot,\r\n            [\"has-append\"]: appendSlot\r\n          }}>\r\n          {prependSlot && <div class=\"m-input-prepend\">{prependSlot}</div>}\r\n          {inputVNode()}\r\n          {appendSlot && <div class=\"m-input-append\">{appendSlot}</div>}\r\n        </div>\r\n      ) : (\r\n        inputVNode()\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { computed } from \"vue\";\r\nimport { add, subtract } from \"@/mostify/utils/common\";\r\n\r\nexport const useControl = props => {\r\n  const showControl = computed(() => {\r\n    return !!props.controls;\r\n  });\r\n  const isRight = computed(() => props.controlsPosition === \"right\");\r\n  return { showControl, isRight };\r\n};\r\n\r\n// 新增和减少的逻辑封装起来\r\nexport const useIncreaseDecrease = (props, value, setValue) => {\r\n  const increaseDisabled = computed(() => {\r\n    return value.value >= props.max;\r\n  });\r\n  const decreaseDisabled = computed(() => {\r\n    return value.value <= props.min;\r\n  });\r\n\r\n  const increase = () => {\r\n    if (increaseDisabled.value || props.disabled || props.readonly) return;\r\n    const step = parseFloat(props.step) || 1;\r\n    const precision = parseInt(props.precision) || 0;\r\n    const val = add(parseFloat(value.value), step);\r\n\r\n    if (val > props.max) {\r\n      setValue(props.max);\r\n      return;\r\n    }\r\n    setValue(val.toFixed(precision));\r\n  };\r\n\r\n  const decrease = () => {\r\n    if (decreaseDisabled.value || props.disabled || props.readonly) return;\r\n    const step = parseFloat(props.step) || 1;\r\n    const precision = parseInt(props.precision) || 0;\r\n    const val = subtract(parseFloat(value.value), step);\r\n\r\n    if (val < props.min) {\r\n      setValue(props.min);\r\n      return;\r\n    }\r\n\r\n    if(val > props.max){\r\n      setValue(props.max);\r\n      return;\r\n    }\r\n    setValue(val.toFixed(precision));\r\n  };\r\n\r\n  return { increase, decrease, decreaseDisabled, increaseDisabled };\r\n};\r\n","import { SizeType } from \"@/mostify/types/types\";\r\nimport { defineComponent, type PropType } from \"vue\";\r\nimport { useControl, useIncreaseDecrease } from \"./hooks/useInputNumber\";\r\nimport { useValue, useClassNames } from \"./hooks/useState\";\r\nimport { useFocus } from \"@/mostify/hooks/useFocus\";\r\nimport MIcon from \"@/mostify/components/MIcon\";\r\nimport \"./styles/index.scss\";\r\nimport \"./styles/input-number.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MInputNumber\",\r\n  components: { MIcon },\r\n  props: {\r\n    modelValue: Number,\r\n    min: Number,\r\n    max: Number,\r\n    step: Number,\r\n    disabled: Boolean,\r\n    controlsPosition: {\r\n      type: String as PropType<\"\" | \"right\">,\r\n      default: \"\"\r\n    },\r\n    controls: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    size: String as PropType<SizeType>,\r\n    readonly: Boolean,\r\n    placeholder: String,\r\n    name: String,\r\n    id: String,\r\n    autofocus: Boolean,\r\n    tabindex: Number,\r\n    prefix: String,\r\n    suffix: String,\r\n    precision: Number,\r\n  },\r\n  emits: [\"update:modelValue\", \"change\", \"blur\", \"focus\"],\r\n  setup(props, { emit, expose, slots }) {\r\n    const { domRef, isFocus, setIsFocus } = useFocus();\r\n    const { showControl, isRight } = useControl(props);\r\n    const { value, setValue } = useValue(props, emit);\r\n    const { classNames } = useClassNames(props, isFocus);\r\n    const { increase, decrease, decreaseDisabled, increaseDisabled } =\r\n      useIncreaseDecrease(props, value, setValue);\r\n\r\n    expose({ focus: () => setIsFocus(true), blur: () => setIsFocus(false) });\r\n    return () => {\r\n      // slot 自定义icon\r\n      const decreaseIconSlot = slots.decreaseIcon?.();\r\n      const increaseIconSlot = slots.increaseIcon?.();\r\n      // prefix suffix 插槽\r\n      const prefixSlot = slots.prefix ? slots.prefix?.() : props.prefix;\r\n      const suffixSlot = slots.suffix ? slots.suffix?.() : props.suffix;\r\n\r\n      const renderInput = () => {\r\n        return (\r\n          <>\r\n            {prefixSlot && <div class=\"m-input-prefix\">{prefixSlot}</div>}\r\n            <input\r\n              type=\"number\"\r\n              name={props.name}\r\n              value={value.value}\r\n              autofocus={props.autofocus}\r\n              tabindex={props.tabindex}\r\n              class=\"m-input-base\"\r\n              ref={domRef}\r\n              disabled={props.disabled}\r\n              placeholder={props.placeholder}\r\n              readonly={props.readonly}\r\n              max={props.max}\r\n              min={props.min}\r\n              step={props.step}\r\n              onInput={(e: InputEvent) => setValue((e.target as HTMLInputElement)?.value)}\r\n              onBlur={() => setIsFocus(false)}\r\n              onFocus={() => setIsFocus(true)}\r\n            />\r\n            {suffixSlot && <div class=\"m-input-suffix\">{suffixSlot}</div>}\r\n          </>\r\n        );\r\n      };\r\n      const renderControl = () => (\r\n        <div class=\"m-input-control-default\">\r\n          <div\r\n            class=\"m-input-number-control-left\"\r\n            data-disabled={decreaseDisabled.value}\r\n            onClick={decrease}>\r\n            {decreaseIconSlot ? decreaseIconSlot : <MIcon name=\"minus\" />}\r\n          </div>\r\n          {renderInput()}\r\n          <div\r\n            class=\"m-input-number-control-right\"\r\n            data-disabled={increaseDisabled.value}\r\n            onClick={increase}>\r\n            {increaseIconSlot ? increaseIconSlot : <MIcon name=\"plus\" />}\r\n          </div>\r\n        </div>\r\n      );\r\n      const renderRightControl = () => (\r\n        <div class=\"m-input-control-right\">\r\n          {renderInput()}\r\n          <div class=\"m-input-right-control-wrapper\">\r\n            <span\r\n              class=\"m-input-control-top\"\r\n              onClick={increase}\r\n              data-disabled={increaseDisabled.value}>\r\n              {decreaseIconSlot ? decreaseIconSlot : <MIcon name=\"up\" />}\r\n            </span>\r\n            <span\r\n              class=\"m-input-control-bottom\"\r\n              data-disabled={decreaseDisabled.value}\r\n              onClick={decrease}>\r\n              {increaseIconSlot ? increaseIconSlot : <MIcon name=\"down\" />}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      );\r\n      return (\r\n        <div\r\n          class={[\r\n            \"m-input-number\",\r\n            showControl.value\r\n              ? isRight.value\r\n                ? \"has-right-control\"\r\n                : \"has-control\"\r\n              : \"\",\r\n            ...classNames.value\r\n          ]}>\r\n          {showControl.value\r\n            ? isRight.value\r\n              ? renderRightControl()\r\n              : renderControl()\r\n            : renderInput()}\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent } from \"vue\";\r\nimport { useValue, useTextarea, useLimitCount } from \"./hooks/useState\";\r\nimport { useFocus } from \"@/mostify/hooks/useFocus\";\r\nimport \"./styles/index.scss\";\r\nimport \"./styles/textarea.scss\";\r\n\r\nexport default defineComponent({\r\n  name: \"MTextarea\",\r\n  props: {\r\n    modelValue: String,\r\n    placeholder: String,\r\n    disabled: Boolean,\r\n    readonly: Boolean,\r\n    maxlength: Number,\r\n    minlength: Number,\r\n    rows: [Number, String],\r\n    cols: [Number, String],\r\n    autofocus: Boolean,\r\n    autocomplete: String,\r\n    showLimitCount: Boolean\r\n  },\r\n  emits: [\"update:modelValue\", \"focus\", \"blur\", \"change\"],\r\n\r\n  setup(props, { emit }) {\r\n    const { domRef, isFocus, setIsFocus } = useFocus();\r\n    const { value, setValue } = useValue(props, emit);\r\n    const { showLimitCount } = useLimitCount(props);\r\n    const { classnames } = useTextarea(props, showLimitCount, isFocus);\r\n    return () => {\r\n      return (\r\n        <div class={classnames.value}>\r\n          <textarea\r\n            class=\"m-textarea-content\"\r\n            ref={domRef}\r\n            rows={props.rows}\r\n            cols={props.cols}\r\n            value={value.value}\r\n            onInput={(e: Event) => setValue((e.target as HTMLTextAreaElement).value)}\r\n            onFocus={() => setIsFocus(true)}\r\n            onBlur={() => setIsFocus(false)}\r\n            disabled={props.disabled}\r\n            readonly={props.readonly}\r\n            placeholder={props.placeholder}\r\n            maxlength={props.maxlength}\r\n            minlength={props.minlength}\r\n            autofocus={props.autofocus}\r\n            autocomplete={props.autocomplete}\r\n          />\r\n          {showLimitCount.value && (\r\n            <span class=\"m-textarea-limit\">\r\n              {value.value?.length || 0}/{props.maxlength}\r\n            </span>\r\n          )}\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent, ref } from \"vue\";\r\nimport MButton from \"../MButton\";\r\nimport \"./alert.scss\";\r\n\r\nfunction AlertIcon({ type, iconSize = \"24px\" }) {\r\n  switch (type) {\r\n    case \"success\":\r\n      return (\r\n        <svg\r\n          class=\"m-icon-svg\"\r\n          viewBox=\"0 0 1024 1024\"\r\n          version=\"1.1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"currentColor\"\r\n          width={iconSize}\r\n          height={iconSize}>\r\n          <path d=\"M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z\"></path>\r\n          <path d=\"M701.866667 381.866667L448 637.866667 322.133333 512c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l149.333334 149.333333c6.4 6.4 14.933333 8.533333 23.466666 8.533334s17.066667-2.133333 23.466667-8.533334l277.333333-277.333333c12.8-12.8 12.8-32 0-44.8-14.933333-12.8-36.266667-12.8-49.066666-2.133333z\"></path>\r\n        </svg>\r\n      );\r\n    case \"warning\":\r\n    case \"danger\":\r\n      return (\r\n        <svg\r\n          class=\"icon\"\r\n          viewBox=\"0 0 1024 1024\"\r\n          version=\"1.1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"currentColor\"\r\n          width={iconSize}\r\n          height={iconSize}>\r\n          <path d=\"M934.4 770.133333L605.866667 181.333333C586.666667 147.2 550.4 128 512 128c-38.4 0-74.666667 21.333333-93.866667 53.333333L89.6 770.133333c-19.2 34.133333-19.2 76.8 0 110.933334S145.066667 938.666667 183.466667 938.666667h657.066666c38.4 0 74.666667-21.333333 93.866667-57.6 19.2-34.133333 19.2-76.8 0-110.933334z m-55.466667 81.066667c-8.533333 14.933333-23.466667 23.466667-38.4 23.466667H183.466667c-14.933333 0-29.866667-8.533333-38.4-23.466667-8.533333-14.933333-8.533333-34.133333 0-49.066667L473.6 213.333333c8.533333-12.8 23.466667-21.333333 38.4-21.333333s29.866667 8.533333 38.4 21.333333l328.533333 588.8c8.533333 14.933333 8.533333 32 0 49.066667z\"></path>\r\n          <path d=\"M512 746.666667m-42.666667 0a42.666667 42.666667 0 1 0 85.333334 0 42.666667 42.666667 0 1 0-85.333334 0Z\"></path>\r\n          <path d=\"M512 629.333333c17.066667 0 32-14.933333 32-32v-192c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v192c0 17.066667 14.933333 32 32 32z\"></path>\r\n        </svg>\r\n      );\r\n    default:\r\n      return (\r\n        <svg\r\n          class=\"m-icon-svg\"\r\n          viewBox=\"0 0 1024 1024\"\r\n          version=\"1.1\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          fill=\"currentColor\"\r\n          width={iconSize}\r\n          height={iconSize}>\r\n          <path\r\n            d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"\r\n            p-id=\"16147\"></path>\r\n          <path\r\n            d=\"M512 336m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z\"\r\n            p-id=\"16148\"></path>\r\n          <path d=\"M536 448h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\"></path>\r\n        </svg>\r\n      );\r\n  }\r\n}\r\nexport default defineComponent({\r\n  name: \"MAlert\",\r\n  props: {\r\n    type: {\r\n      type: String,\r\n      default: \"primary\"\r\n    },\r\n    iconSize: {\r\n      type: String,\r\n      default: \"24px\"\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    description: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    showClose: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    showIcon: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    dark: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  emits: [\"close\"],\r\n  setup(props, { slots, emit }) {\r\n    const show = ref(true);\r\n\r\n    const onHandleClose = () => {\r\n      show.value = false;\r\n      emit(\"close\");\r\n    };\r\n    return () => {\r\n      const titleText = slots.title ? slots.title() : props.title;\r\n      const defaultSlot = slots.default ? slots.default() : props.description;\r\n      const iconSlot = slots.icon ? (\r\n        slots.icon()\r\n      ) : (\r\n        <AlertIcon type={props.type} iconSize={props.iconSize} />\r\n      );\r\n      return (\r\n        <div\r\n          class={`m-alert m-alert-${props.type} ${props.dark ? \"is-dark\" : \"\"}`}\r\n          style={{ display: show.value ? \"block\" : \"none\" }}>\r\n          <main class=\"m-alert-main\">\r\n            {props.showIcon && iconSlot && (\r\n              <div class=\"m-alert-icon\">{iconSlot}</div>\r\n            )}\r\n\r\n            <div class=\"m-alert-content\">\r\n              {titleText && <div class=\"m-alert-title\">{titleText}</div>}\r\n              {defaultSlot && (\r\n                <div class=\"m-alert-description\">{defaultSlot}</div>\r\n              )}\r\n            </div>\r\n\r\n            {props.showClose && (\r\n              <span class=\"m-alert-close\">\r\n                <MButton\r\n                  onClick={onHandleClose}\r\n                  rightIcon=\"close\"\r\n                  type=\"text\"\r\n                  size=\"mini\"\r\n                  shape=\"circle\"\r\n                />\r\n              </span>\r\n            )}\r\n          </main>\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { defineComponent, PropType } from \"vue\";\r\nimport { useCheckbox } from \"./hooks\";\r\nimport \"./style.scss\";\r\nimport { SizeType } from \"@/mostify/types/types\";\r\n\r\nfunction CheckboxState({ checked, indeterminate }) {\r\n  if (checked) {\r\n    return (\r\n      <svg\r\n        class=\"m-icon__svg\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"currentColor\"\r\n        role=\"img\"\r\n        aria-hidden=\"true\">\r\n        <path d=\"M10,17L5,12L6.41,10.58L10,14.17L17.59,6.58L19,8M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\"></path>\r\n      </svg>\r\n    );\r\n  } else if (indeterminate) {\r\n    return (\r\n      <svg\r\n        class=\"m-icon__svg\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 24 24\"\r\n        role=\"img\"\r\n        fill=\"currentColor\"\r\n        aria-hidden=\"true\">\r\n        <path d=\"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\"></path>\r\n      </svg>\r\n    );\r\n  } else {\r\n    return (\r\n      <svg\r\n        class=\"m-icon__svg\"\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 24 24\"\r\n        fill=\"currentColor\"\r\n        role=\"img\"\r\n        aria-hidden=\"true\">\r\n        <path d=\"M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3M19,5V19H5V5H19Z\"></path>\r\n      </svg>\r\n    );\r\n  }\r\n}\r\n\r\nexport default defineComponent({\r\n  name: \"MCheckbox\",\r\n  props: {\r\n    size: String as PropType<SizeType>,\r\n    label: {\r\n      type: String,\r\n      default: \"\"\r\n    },\r\n    checked: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    readonly: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    indeterminate: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    value: {\r\n      type: [String, Number],\r\n      default: \"\"\r\n    },\r\n    modelValue: {\r\n      type: [String, Number, Boolean, Array],\r\n      default: false\r\n    }\r\n  },\r\n  emits: [\"update:modelValue\", \"change\", \"update:indeterminate\"],\r\n\r\n  setup(props, { emit, slots }) {\r\n    const { checked, indeterminate, toggle, classNames } = useCheckbox(\r\n      props,\r\n      emit\r\n    );\r\n\r\n    return () => {\r\n      const label = slots.default ? slots.default() : props.label;\r\n      return (\r\n        <div\r\n          class={classNames.value}\r\n          data-disabled={props.disabled}\r\n          data-checked={checked.value}\r\n          data-indeterminate={indeterminate.value}\r\n          data-value={props.value}\r\n          onClick={toggle}>\r\n          <div class=\"m-checkbox-wrapper\">\r\n            <span class=\"m-checkbox-control-wrapper\">\r\n              <div class=\"m-checkbox-control-main\">\r\n                <div class=\"m-checkbox-control-inner\">\r\n                  {CheckboxState({\r\n                    checked: checked.value,\r\n                    indeterminate: indeterminate.value\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </span>\r\n            <span class=\"m-checkbox-label\">{label}</span>\r\n            <input\r\n              type=\"checkbox\"\r\n              class=\"m-checkbox-input\"\r\n              checked={checked.value}\r\n              disabled={props.disabled}\r\n              readonly={props.readonly}\r\n              value={props.value}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { ref, watch, computed } from \"vue\";\r\nimport { isArray } from \"@/mostify/utils/common\";\r\nimport useProvider from \"@/mostify/hooks/useProvider\";\r\n\r\nexport const useCheckbox = (props, emit) => {\r\n  const indeterminate = ref(props.indeterminate);\r\n  const checked = ref(\r\n    isArray(props.modelValue)\r\n      ? props.modelValue?.includes(props.value)\r\n      : props.modelValue || props.checked || false\r\n  );\r\n  const { size } = useProvider();\r\n  const classNames = computed(() => {\r\n    const sVal = props.size || size || \"small\";\r\n    const arr = [\"m-checkbox\", `m-checkbox-size-${sVal}`];\r\n    props.disabled && arr.push(\"m-checkbox-disabled\");\r\n    checked.value && arr.push(\"m-checkbox-checked\");\r\n    indeterminate.value && arr.push(\"m-checkbox-indeterminate\");\r\n    return arr;\r\n  });\r\n\r\n  const toggle = () => {\r\n    if (props.disabled || props.readonly) return;\r\n    if (isArray(props.modelValue)) {\r\n      const newArr = [...props.modelValue];\r\n\r\n      if (newArr.includes(props.value)) {\r\n        newArr.splice(newArr.indexOf(props.value), 1);\r\n        checked.value = false;\r\n      } else {\r\n        newArr.push(props.value);\r\n        checked.value = true;\r\n      }\r\n      emit(\"update:modelValue\", newArr);\r\n      emit(\"change\", newArr);\r\n    } else {\r\n      checked.value = !checked.value;\r\n      emit(\"update:modelValue\", checked.value);\r\n      emit(\"change\", checked.value);\r\n    }\r\n    indeterminate.value = false;\r\n    emit(\"update:indeterminate\", indeterminate.value);\r\n  };\r\n\r\n  watch(\r\n    () => [props.checked, props.indeterminate, props.modelValue],\r\n    () => {\r\n      checked.value = isArray(props.modelValue)\r\n        ? props.modelValue?.includes(props.value)\r\n        : props.modelValue || props.checked || false;\r\n      indeterminate.value = props.indeterminate;\r\n    }\r\n  );\r\n\r\n  return {\r\n    toggle,\r\n    indeterminate,\r\n    checked,\r\n    classNames\r\n  };\r\n};\r\n","import { defineComponent, type PropType } from \"vue\";\r\nimport MIcon from \"../MIcon\";\r\nimport \"./style.scss\";\r\n\r\ntype ObjectFitType = \"fill\" | \"contain\" | \"cover\" | \"scale-down\" | \"none\";\r\n\r\nexport default defineComponent({\r\n  name: \"MAvatar\",\r\n  components: { MIcon },\r\n  props: {\r\n    src: { type: String, default: \"\" },\r\n    size: { type: String, default: \"36px\" },\r\n    alt: { type: String, default: \"\" },\r\n    srcSet: { type: String, default: \"\" },\r\n    fit: {\r\n      type: String as PropType<ObjectFitType>,\r\n      default: \"cover\"\r\n    },\r\n    icon: { type: String, default: \"\" },\r\n    shape: { type: String, default: \"circle\" },\r\n    loading: { type: String as PropType<\"lazy\" | \"eager\">, default: \"eager\" }\r\n  },\r\n  emits:['error'],\r\n  setup(props, { slots,emit }) {\r\n    const onError = e => {\r\n      emit('error',e)\r\n    };\r\n\r\n    return () => {\r\n      const icon = slots.icon ? (\r\n        slots.icon()\r\n      ) : props.icon ? (\r\n        <MIcon\r\n          name={props.icon}\r\n          class=\"m-avatar-icon\"\r\n          size={String(parseInt(props.size) * 0.6) + \"px\"}\r\n        />\r\n      ) : (\r\n        \"\"\r\n      );\r\n\r\n      const defaultSlot = slots.default ? slots.default() : \"\";\r\n\r\n      return (\r\n        <div\r\n          class={{\r\n            \"m-avatar\": true,\r\n            \"m-avatar-shape-square\": props.shape === \"square\",\r\n            \"m-avatar-shape-circle\": props.shape === \"circle\"\r\n          }}\r\n          style={{ \"--size\": props.size, \"--shape\": props.shape }}>\r\n          {icon ? (\r\n            icon\r\n          ) : defaultSlot ? (\r\n            defaultSlot\r\n          ) : (\r\n            <img\r\n              src={props.src}\r\n              alt={props.alt}\r\n              srcset={props.srcSet}\r\n              class=\"m-avatar-image\"\r\n              style={{\r\n                \"object-fit\": props.fit || \"none\"\r\n              }}\r\n              loading={props.loading}\r\n              width={props.size}\r\n              height={props.size}\r\n              onError={onError}\r\n            />\r\n          )}\r\n        </div>\r\n      );\r\n    };\r\n  }\r\n});\r\n","import { type PluginOptionTypes } from \"@/mostify/types/types\";\r\nimport { providerKey } from \"@/mostify/utils/constants\";\r\n\r\nimport MButton from \"./MButton\";\r\nimport MSpace from \"./MSpace\";\r\nimport MDivider from \"./MDivider\";\r\nimport MAnchor from \"./MAnchor\";\r\nimport MConfigProvider from \"./MConfigProvider\";\r\nimport { MBreadcrumb, MBreadcrumbItem } from \"./MBreadcrumb\";\r\nimport MDropdown from \"./MDropdown\";\r\nimport MButtonGroup from \"./MButtonGroup\";\r\nimport MMenuItem from \"./MMenuItem\";\r\nimport MDialog, { Dialog } from \"./MDialog\";\r\nimport { MInput, MInputNumber, MMTextarea } from \"./MInput\";\r\nimport MIcon from \"./MIcon\";\r\nimport MAlert from \"./MAlert/MAlert\";\r\nimport MCheckbox from \"./MCheckbox\";\r\nimport MAvatar from \"./MAvatar\";\r\n\r\nconst components = [\r\n  MButton,\r\n  MSpace,\r\n  MDivider,\r\n  MAnchor,\r\n  MConfigProvider,\r\n  MBreadcrumb,\r\n  MBreadcrumbItem,\r\n  MDropdown,\r\n  MButtonGroup,\r\n  MMenuItem,\r\n  MDialog,\r\n  MInput,\r\n  MIcon,\r\n  MAlert,\r\n  MCheckbox,\r\n  MAvatar,\r\n  MInputNumber,\r\n  MMTextarea\r\n].map(item => {\r\n  item.install = function (app) {\r\n    app.component(item.name, item);\r\n  };\r\n  return item;\r\n});\r\n\r\nexport default {\r\n  install(app, options?: PluginOptionTypes | undefined) {\r\n    // 全局注入配置信息\r\n    app.provide(\r\n      providerKey,\r\n      options ? options : { size: \"small\", zIndex: 1000 }\r\n    );\r\n    // 注册所有组件\r\n    components.forEach(component => {\r\n      app.component(component.name, component);\r\n    });\r\n  }\r\n};\r\n\r\nexport {\r\n  MButton,\r\n  MSpace,\r\n  MDivider,\r\n  MAnchor,\r\n  MConfigProvider,\r\n  MBreadcrumb,\r\n  MBreadcrumbItem,\r\n  MDropdown,\r\n  MButtonGroup,\r\n  MMenuItem,\r\n  MDialog,\r\n  Dialog,\r\n  MInput,\r\n  MIcon,\r\n  MAlert,\r\n  MCheckbox,\r\n  MAvatar,\r\n  MInputNumber,\r\n  MMTextarea\r\n};\r\n"],"names":["providerKey","Symbol","useProvider","size","zIndex","inject","a","pdMap","mini","small","large","defineComponent","name","props","type","String","default","color","setup","emit","iconName","computed","_createVNode","class","value","onClick","e","style","lineHeight","shape","disabled","Boolean","loading","light","leftIcon","rightIcon","block","emits","slots","btnClass","contentShow","btnRef","btnSize","ref","arr","push","includes","rippleRef","setRipple","wrapper","rippleCopy","async","t","rect","getBoundingClientRect","document","createElement","className","ripple","cloneNode","appendChild","Math","max","width","height","top","clientY","toFixed","left","clientX","abs","setAttribute","classList","add","Promise","resolve","setTimeout","remove","styles","useStyle","onChangeByType","preventDefault","MIcon","onMousedown","onFocus","onBlur","marginRight","viewBox","d","fill","_Fragment","direction","alignItems","layoutClass","defaultItems","map","item","index","key","borderStyle","getTarget","Function","window","_","locale","validator","v","separator","defaultSlots","length","label","href","target","updateBodyScroll","attr","querySelectorAll","body","documentElement","dataset","overflow","getNodeRect","node","getAnimateEnd","all","getAnimations","subtree","animation","finished","then","catch","animate","keyframes","options","delay","reject","forEach","cancel","endAnimation","time","duration","Number","animateOption","hideTime","showTime","bgShow","el","transform","offset","cShow","opacity","bgHide","isArray","val","Array","addOrSubtract","b","isAdd","getLen","toString","split","fixedLen","parseFloat","getRect","placement","cRect","st_px","scrollTop","windowWidth","innerWidth","windowHeight","innerHeight","canShowOnTop","canShowOnBottom","canShowOnLeft","canShowOnRight","trigger","destroyOnHide","open","toBody","triggerRef","dropdownContentRef","bodyRef","show","state","reactive","waitChange","renderToDom","hideState","timer","isShow","renderRect","minWidth","scrollListenHandle","showDropdown","clearTimeout","requestAnimationFrame","addEventListener","handleClickHandle","hideDropdown","triggerMouseEnter","cHide","removeEventListener","clickHideListenHandle","parent","child","contains","onContentMouseEnter","bindEvent","unBindEvent","watch","onBeforeMount","querySelector","insetBody","onMounted","children","onUnmounted","Teleport","to","_withDirectives","content","_vShow","provide","l","defaultSlot","handleClick","stopPropagation","onEnter","onLeave","ctx","vNodes","Transition","appear","done","css","s","_isVNode","Object","prototype","call","dialogAnimationShow","mask","dialogAnimationHide","components","MButton","visible","title","cancelBtnText","okBtnText","okBtnProps","cancelBtnProps","showClose","maskBackgroundColor","fullscreen","escHide","maskHide","_onClose","wrapperRef","maskRef","dialogRef","contentStyle","wrapperStyle","bodyStyle","padding","margin","maxWidth","useDialogStyle","onVisibleHide","onHandleEscHideEvent","code","keyCode","allDialogs","transformOrigin","setProperty","footerSlot","footer","headerSlot","header","bodySlot","MTransition","version","xmlns","_mergeProps","getDefaultOpt","obj","onConfirm","onCancel","createDialog","option","div","app","createApp","MDialog","unmount","mount","Dialog","freeze","assign","confirm","okBtnType","useValue","modelValue","setValue","readonly","useClassNames","isFocus","classNames","useLimitCount","showLimitCount","maxlength","useFocus","defaultValue","domRef","setIsFocus","bol","focus","blur","placeholder","prefix","suffix","prepend","append","clearable","autofocus","autocomplete","minlength","min","step","pattern","showPasswordIcon","tabindex","exposed","expose","showPwdIcon","isOpenEye","toggleShowPwd","toLowerCase","prefixSlot","suffixSlot","prependSlot","appendSlot","inputVNode","onInput","useIncreaseDecrease","increaseDisabled","decreaseDisabled","increase","precision","parseInt","decrease","n","controlsPosition","controls","id","showControl","isRight","useControl","decreaseIconSlot","decreaseIcon","increaseIconSlot","increaseIcon","renderInput","rows","cols","classnames","useTextarea","_createTextVNode","AlertIcon","iconSize","description","showIcon","dark","onHandleClose","titleText","iconSlot","icon","display","CheckboxState","checked","indeterminate","role","toggle","newArr","splice","indexOf","src","alt","srcSet","fit","onError","srcset","MSpace","MDivider","MAnchor","MConfigProvider","MBreadcrumb","MBreadcrumbItem","MDropdown","MButtonGroup","MMenuItem","MInput","MAlert","MCheckbox","MAvatar","MInputNumber","MMTextarea","install","component"],"mappings":"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"}